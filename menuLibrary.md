# Меню Library

<div style="text-align:justify;">
<p>Существует две библиотеки символов (разделяемые с ISIS): SYSTEM.LIB; USERSYM.LIB и шесть библиотек корпусов: PACKAGE.LIB; CONNECTORS.LIB; SMTCHIP.LIB; SMTDISC.LIB; SMTBGA.LIB; USERPKG.LIB.</p>
<p>Кроме того, пользователь может создавать свои собственные библиотеки, используя команду <strong>Library Manager</strong>.</p>
<p>USERSYM.LIB и USERPKG.LIB доступны для чтения/записи, а остальные – только для чтения. Это гарантирует, что при обновлении библиотек с сайта не произойдет перезапись объектов, созданных пользователем, с одинаковыми именами, поэтому пользователь должны добавлять элементы только в USERSYM.LIB (новые символы) и USERPKG.LIB (новые корпуса).</p>
<p>Если нужно изменить элементы в библиотеках доступных только для чтения, пользователь сделать их доступными для чтения/записи, используя команду Свойства в проводнике Windows.</p>
<p><strong>Library Manager</strong> также позволяет изменять свойство чтения/записи библиотек.</p>
<p><strong>Pick Package/Symbol… (P)</strong> – открывает браузер библиотек объектов (Рис. 33), позволяя выбирать и размещать в ARES объекты из библиотек. Каждый корпус в библиотеках корпусов связан с категорией (<strong>Category</strong>), типом (<strong>Type</strong>), подкатегорией (<strong>Sub-Category</strong>) и кратким текстовым описанием (<strong>Description</strong>). Эта информация отображается в браузере библиотек и позволяет очень легко искать требуемые корпуса в библиотеках. При поиске по ключевым словам необходимо учитывать, что:</p>
<ol>
<li>поиск осуществляется среди названий корпусов, кратких тестовых описаний, категорий и подкатегорий;</li>
<li>если пользователь вводит несколько ключевых слов, то подразумевается, что все они входят в искомый объект. То есть, между ключевыми словами стоит логический элемент «И»;</li>
<li>если ключевое слово – число, то поиск производится по разрядам числа, стоящим в любом месте искомого объекта. Например, ключевому слову «7400» будут соответствовать объекты «74LS00», «74HC00» и т. д.;</li>
<li>если ключевое слово полностью соответствует объекту, то этот объект автоматически выделяется в результатах. Это позволяет быстрее выбирать объекты, названия которых известны;</li>
<li>если ключевое слово содержит символы подстановки «*» или «?», то они учитываются при поиске;</li>
<li>при установленном флажке <strong>Match Whole Words?</strong> поиск проводится так, чтобы ключевое слово полностью совпадало со значением свойства объекта. В противном случае допустимо частичное совпадение;</li>
<li>регистр символов не учитывается.</li>
</ol>
<p>В средней части диалогового окна отображаются результаты поиска <strong>Results</strong>, при этом сортировка производится по названию корпуса компонента (<strong>Device</strong>), библиотеке (<strong>Library</strong>), в которой он находится, и краткому текстовому описанию (<strong>Description</strong>). Нажав правой кнопкой мыши на свободном поле, можно также выбрать дополнительные столбцы для отображения: категория (<strong>Category</strong>), тип (<strong>Type</strong>), подкатегория (<strong>Sub-Cateroty</strong>), производитель (<strong>Manufacturer</strong>), коду хранения на складе (<strong>Stock Code</strong>). Щелкнув на название конкретного столбца можно изменить порядок сортировки.</p>
<p>Для подтверждения выбора корпуса нажмите левой кнопкой мыши по строке с его названием. Нажмите кнопку OK и поместите корпус на схему, нажав два раза левую кнопку. В верхней правой части экрана в окне <strong>Package Preview</strong> можно увидеть выбираемый компонент. После поиска всех нужных компонентов, браузер библиотек можно закрыть щелчком по крестику вверху справа или по кнопке Cancel внизу справа. Все выбранные компоненты должны оказаться в селекторе объектов.</p>
<p>Существующие пользовательские библиотеки из версий Proteus до 6.6 не содержат информации о категориях и подкатегориях. Корпуса из этих библиотек попадают в категорию Unspecified, а библиотечные названия используются в качестве подкатегорий.</p>
<p>Если пользователь выбрал корпус или символ, который уже находится на печатной плате, ARES обновит его из библиотек, хранящихся на диске. Учтите также, что:</p>
<ul>
<li>При выборе корпусов, необходимо учитывать, что ARES просто расположит новый корпус поверх точки привязки старого. Это означает, что контактные площадки нового корпуса могут иметь другие размеры и потребуется провести повторную разводку дорожек на плате.</li>
<li>Когда существует два или более корпуса или символа с одинаковыми именами в нескольких библиотеках, команда <strong>Pick Package/Symbol</strong> загрузит самый новый. Это удобно при редактировании одного из стандартных библиотечных элементов и размещении его в USERPKG.LIB, поскольку эта версия элемента будет считаться новее стандартной.</li>
</ul>
<center><img src="/images/chapter5/pickpackages.png" /></center>
<center>Рис. 33</center>
<p><strong>Make Package…</strong> – команда создания корпуса в ARES. Корпус – это совокупность контактных площадок и шелкографии, которая используется при размещении компонента на печатной плате. В ARES существует несколько библиотек со стандартными корпусами, что позволяет сэкономить время, по сравнению с ручными методами разводки печатной платы. Однако бывают случаи, когда необходимо создать свой собственный корпус, поэтому ниже приводится пошаговый алгоритм создания.</p>
<center><strong><em>Создание корпуса</em><strong></center>
<p>Чтобы создать новый библиотечный корпус необходимо:</p>
<ol>
<li>Выбрать соответствующую иконку формы контактных площадок (<strong>Round Through-hole Pad Mode</strong>, <strong>Square Through-hole Pad Mode</strong>,<strong> DIL Pad Mode</strong>, <strong>Edge Connector Pad Mode</strong>, <strong>Circular SMT Pad Mode</strong>, <strong>Rectangular SMT Pad Mode</strong>, <strong>Polygonal SMT Pad Mode</strong>) на левой панели инструментов и поместить площадки в свободную область основного окна редактирования. Используйте селектор слоев, чтобы разместить контактные площадки на соответствующих слоях;</li>
<li>По умолчанию ARES нумерует выводы, начиная с «1» по возрастанию в том порядке, в котором они помещаются на плату. Если нужно пронумеровать выводы в другом порядке, их необходимо пронумеровать заново, используя <strong>Auto Name Generator…</strong> или отредактировать вручную, нажав на нем правой кнопкой мыши и выбрав команду <strong>Edit Properties</strong> контекстного меню;</li>
<li>Выберите соответствующие иконки двумерной графики (<strong>2D Graphics Line Mode</strong>, <strong>2D Graphics Box Mode</strong>, <strong>2D Graphics Circle Mode</strong>, <strong>2D Graphics Arc Mode</strong>, <strong>2D Graphics Closed Path Mode</strong>) и поместите шелкографию корпуса на плате. Корпус может иметь текстовые обозначения (иконка <strong>2D Graphics Text Mode</strong>), как на стороне компонентов, так и на стороне пайки; причем они будут меняться местами, если выбрана иконка отражения по вертикали или горизонтали (<strong>X-Mirror</strong> или <strong>Y-Mirror</strong>).</li>
<li>Выделите все объекты, растягивая выделяющий прямоугольник над ними.</li>
<li>Вызовите команду <strong>Make Package…</strong> из меню <strong>Library</strong>. Появится диалоговое окно <strong>Make Package…</strong> приведенное на Рис. 34;</li>
<li>Во вкладке <strong>Indexing and Library Selection</strong> введите название в поле <strong>New Package Name</strong>, категорию в выпадающем списке <strong>Package Category</strong> или создайте новую с помощью кнопки <strong>New</strong>, тип в выпадающем списке <strong>Package Type</strong> или создайте новый с помощью кнопки <strong>New</strong>, подкатегорию в выпадающем списке <strong>Package Sub-Category</strong> или создайте новую с помощью кнопки <strong>New</strong>, краткое текстовое описание <strong>Package Description</strong> и затем выбрать библиотеку корпусов для его сохранения (доступны только библиотеки, в которые разрешена запись) – обычно это библиотека USERPKG.LIB. Установленный флажок <strong>Advanced Mode (Edit Manually)</strong> позволяет вводить данные в поля <strong>Package Category</strong>, <strong>Package Type</strong>, <strong>Package Sub-Category</strong> сразу вручную, а не из выбирать из выпадающего списка. После этого пользователь может переключиться во вкладку <strong>3D Visualisation</strong>, чтобы создать трехмерную модель корпуса или просто нажать кнопку OK, чтобы сохранить корпус в библиотеку без информации о его трехмерной модели;</li>
<li>Во вкладке <strong>3D Visualization</strong> введите трехмерную информацию, используя скриптовые команды, чтобы получить трехмерное изображение корпуса. Облегчает процесс создания окно трехмерного предварительного просмотра, которое в реальном времени обновляется при вводе или редактировании параметров. Смотри также раздел «Создание трехмерных моделей внутри ARES»;</li>
<li>Нажмите кнопку OK, чтобы сохранить корпус и трехмерную информацию о нем в указанную библиотеку.</li>
</ol>
<center><img src="images/chapter5/makepackage.png"></center>
<center>Рис. 34</center>
</div>

