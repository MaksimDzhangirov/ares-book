# Создание компонентов в ISIS

<div style="text-align:justify;">	
	<p>Компонент (в ISIS) – это реально существующий элемент, например, NPN транзистор или микроконтроллер PIC. Существует три типа компонентов:</p>
	<ul>
		<li>Одноэлементные компоненты. Это компоненты, для которых существует однозначное соответствие между условным графическим обозначением на схеме и корпусом. Каждый вывод такого компонента имеет уникальное название и уникальный номер.</li>
		<li>Однородные многоэлементные компоненты. Это компоненты, в которых несколько одинаковых элементов находятся в одном корпусе. Примером могут быть четыре элемента И-НЕ серии 7400 или двухканальный ОУ TL072. Один и тот же вывод будет иметь различный номер вывода для каждого элемента, кроме выводов питания, которые являются общими.</li>
		<li>Разнородные многоэлементные компоненты. Это компоненты, в которых несколько различных элементов находятся внутри одного корпуса, но разработчик хочет отобразить их отдельно на принципиальной схеме. Наиболее распространенным примером является реле, состоящее из катушки и одной или нескольких групп контактов, расположенных в различных частях схемы.</li>
	</ul>
	<p>ISIS также поддерживает выводы типа «шина». Таким образом, микропроцессоры и их периферия могут быть изображены в компактном виде, так как их шины данных и адреса можно представить с помощью двух выводов. Компоненты с одним или более выводом типа «шина» также требует распиновки, позволяющей определить номер вывода каждого физической линии шины.</p>
	<p>Как было сказано выше, в одноэлементных компонентах с каждым физическим номером вывода связан вывод на условном графическом обозначении, а в многоэлементных компонентах и компонентах с выводами типа «шина» несколько номеров выводов на условном графическом обозначении могут соответствовать каждому выводу компонента. Эта особенность при создании компонента, учитывается инструментом назначения корпусов (<strong>Visual Packaging Tool</strong>). Кроме того, этот инструмент позволяет присваивать альтернативные корпуса (каждый со своим числом выводов) для одного и того же условного графического обозначения. Например, микропроцессор PIC16F877 доступен в корпусах DIP40 (корпус с двумя рядами выводов) и PLCC44 (пластиковый корпус с четырехсторонним расположением J-образных выводов).</p>
	<p>Большинство создаваемых компонентов являются одноэлементными или однородными многоэлементными. Не зависимо от того какой компонент создается, первый этап при создании нового библиотечного компонента – это создание условного графического обозначения и размещение выводов элемента или элементов компонента.</p>
	<p>Чтобы создать компонент необходимо:</p>
	<ul>
		<li>Прорисовать условного графического обозначения в соответствии с требованиями ЕСКД.</li>
		<li>Разместить выводы компонента.</li>
		<li>Обозначить выводы: присвоить им названия и типы, используя любой стандартный метод редактирования, например, <strong>Property Assignment Tool</strong>.</li>
		<li>Выделить все элементы, входящие в компонент. Затем использовать команду <strong>Make Device</strong> и назначить свойства компонента по умолчанию.</li>
	</ul>
	<p>Рассмотрим каждый из этапов более подробно.</p>
	<center><strong>Создание условного графического обозначения в ISIS</strong></center>
	<p>Условное графическое обозначение представляет собой изображение компонента на схеме, за исключением того, что оно не содержит обозначения компонента и его выводов. Часто это просто прямоугольник соответствующего размера с графическим стилем COMPONENT, который разработчик может выбрать из меню двумерной графики.</p>
	<p>Для элементов с более сложными графическими обозначениями, например, транзисторов, операционных усилителей и т. д., разработчик может использовать любые графические объекты из меню двумерной графики с любыми необходимыми стилями.</p>
	<p>По умолчанию двумерная графика имеет стиль COMPONENT, однако, разработчик в случае необходимости может отредактировать его, выбрать любой другой или создать свой пользовательский стиль, например, командой <strong>Set Graphic Styles…</strong> из меню <strong>Template</strong>.</p>
	<p>Если необходим стандартный графический элемент, то обычно нет необходимости создавать его с нуля. Например, символ операционного усилителя можно взять из библиотеки символов. Для этого необходимо выбирать в левом меню режим <strong>2D Graphics Symbol Mode</strong> (пиктограмма S), нажать P на клавиатуре, двойным щелчком в поле селектора объектов или на кнопке P в нем выбрать в библиотеке стандартных символов <strong>SYSTEM</strong> элемент с названием OPAMP (Рис. 114). Кроме библиотеки <strong>SYSTEM</strong> существует пустая (пока не будут созданы пользовательские символы) пользовательская библиотека <strong>USERSYM</strong>, в которой можно размещать свои собственные символы.</p>
	<center><img src="/images/isis/picks.png" alt=""></center>
	<center>Рис. 114</center>
	<p>Если в библиотеке компонентов уже имеется готовый, похожий на тот, который необходимо создать, то воспользуйтесь командой <strong>Decompose</strong> (пиктограмма с молотком в верхнем меню или через контекстное меню, вызываемое по щелчку правой кнопкой мыши), чтобы разбить элемент на части и использовать необходимые графические элементы для своего компонента. «Разбитый» компонент уже не является объектом библиотеки, а представляет собой набор графики и текстовый скрипт с описанием его свойств.</p>
	<p>Внутри изображения компонента можно помещать любые элементы графики – линии, текст. Однако, для того чтобы они были видимыми – само изображение должно быть помещено на задний план (команда <strong>Send To Back</strong> из меню <strong>Edit</strong> в ISIS или через сочетание клавиш <strong>Ctrl+B</strong>).</p>
	<p>После того как изображение компонента нарисовано, необходимо установить маркер привязки <strong>ORIGIN</strong>. По этому маркеру будущий компонент будет привязываться к сетке в проекте. Его можно установить в центре изображения. Если его не определить, то ISIS по умолчанию поместит его у левого верхнего вывода, а для активных компонентов (например, индикаторов) у левого верхнего угла. Для установки маркера можно воспользоваться левым меню (<strong>2D Graphics Markers Mode</strong>, пиктограмма «прицел», тип <strong>ORIGIN</strong> в селекторе объектов, либо через контекстное меню правой кнопки мыши <strong>PLACE</strong> → <strong>MARKER</strong> → <strong>ORIGIN</strong>).</p>
	<p>Создание новых условных графических обозначений рассмотрено в разделе «Создание графических символов».</p>
	<center><strong>Размещение выводов компонента</strong></center>
	<p>Последним этапом создания условного графического изображения является размещение выводов компонента. Для этого используется команда из левого меню – <strong>Device Pins Mode</strong> (набор 2, пиктограмма разбитого на части изображения ОУ на сером фоне) и выбирается нужный тип вывода для размещения из по умолчанию загруженных в селектор объектов: обычный прямой вывод (<strong>DEFAULT</strong>), вывод с кружком (<strong>INVERT</strong>), вывод с тактированием по фронту (<strong>POSCLK</strong>), вывод с тактированием по спаду (<strong>NEGCLK</strong>), короткий прямой вывод (<strong>SHORT</strong>), вывод типа «шина» (<strong>BUS</strong>). Как правило, в большинстве случаев достаточно вывода <strong>DEFAULT</strong> или <strong>INVERT</strong>. Если необходимо можно добавить дополнительные типы выводов из имеющейся библиотеки <strong>SYSTEM</strong>. Находясь в режиме <strong>Device Pins Mode</strong>, двойным щелчком в поле селектора (или одинарным по букве <strong>P</strong> или клавише <strong>P</strong>) входим в библиотеку и добавляем необходимый вывод из имеющихся в селектор. Когда выбранный вывод больше не нужен, его можно удалить, щелкнув правой кнопкой по нему и выбрав в выпадающем меню <strong>Delete</strong>. Удалить шесть выводов загруженных по умолчанию нельзя.</p>
	<p>При размещении выводов тонкое перекрестие в виде <strong>Х</strong> является внешним концом вывода, к которому будут позиционироваться провода, поэтому он должен быть направлен наружу. Если необходимо повернуть или отразить вывод воспользуйтесь соответствующими опциями в меню правой кнопки мыши.</p>
	<p>Любой вывод имеет системные свойства, показанные в таблице 10.</p>
	<p style="text-align:right;">Таблица 10 - Свойства вывода</p>
	<div>
		<table>
			<tbody>
				<tr>
					<td style="text-align:center;">Свойство</td>
					<td style="text-align:center;">Описание</td>
				</tr>
				<tr>
					<td style="text-align:center;">NAME</td>
					<td>Название вывода</td>
				</tr>				
				<tr>
					<td style="text-align:center;">NUM</td>
					<td>Номер вывода</td>
				</tr>				
				<tr>
					<td style="text-align:center;">SYMBOL</td>
					<td>Символическое обозначение, которое используется для вывода. Им может быть одно из стандартных символических обозначений вывода или пользовательское название символа</td>
				</tr>				
				<tr>
					<td style="text-align:center;">TYPE</td>
					<td>Электрический тип вывода: пассивный (PS – PASSIVE), вход (IP – INPUT), выход (OO – OUTPUT), двунаправленный (IO – BIDIR), тристабильный (TS – TRISTATE), с внешним подтягивающим резистором (PU – PULLUP), с внутренним подтягивающим резистором (PD – PULLDOWN), питание (PP – POWER).</td>
				</tr>
			</tbody>
		</table>
	</div>
	<center><strong>Обозначение выводов</strong></center>
	<p>Для обозначения выводов можно использовать два способа:</p>
	<li>обозначать каждый вывод по отдельности (выделить его и нажать CTRL+E или нажав на нем правой кнопкой мыши выбрать в контекстном меню <strong>Edit Properties</strong>) (Рис. 115).
	<center><img src="/images/isis/editpin.png" alt=""></center>
	<center>Рис. 115</center>
	<p>В диалоговом окне в поле <strong>Pin Name</strong> вводится название вывода. Желательно, чтобы оно отражало физическую суть вывода, но в тоже время было не очень длинным и обязательно уникальным (не повторяющимся больше в этой модели). Два вывода с одинаковым названием считаются электрически соединенными в списке соединений и на печатной плате. Если планируется, что это название будет видимым, то оно должно вписываться в отведенном для этого месте и не наползать на другие. Для правильного отображения названия инверсного вывода (с надчеркиванием) поставьте перед и после него знак «$».</p>
	<p>В поле <strong>Default Pin Number</strong> определяется номер вывода по умолчанию; необходимо, чтоб он совпадал с номером вывода того корпуса, который будет впоследствии принят по умолчанию. Установленный флажок <strong>Draw Body?</strong> определяет видимость вывода, которая позволяет присоединять к нему проводники. Флажки <strong>Draw Name?</strong> и <strong>Draw Number?</strong> делают видимыми название и номер вывода, а <strong>Rotate Pin Name…</strong> и <strong>Rotate Pin Number?</strong> поворачивают их на 90 градусов против часовой стрелки.</p>
	<p>Ниже расположено окно выбора электрического типа вывода (<strong>Electrical Type</strong>). Если при создании компонента определить электрический тип невозможно, то можно оставить его <strong>PS</strong> – тип, принятый по умолчанию (смотри таблицу 10 для описания выводов). Тип вывода используется при проверке принципиальной электрической схемы (<strong>Electrical Rule Check…</strong>), а также ARES при разводке дорожек, например для <strong>Power Pin</strong> дорожка шире, чем другие.</p>
	<p>Внизу диалогового окна имеются кнопки позволяющие ускорить редактирование: <strong>Previous</strong> и <strong>Next</strong> – переключают окно на следующий по номеру <strong>Pin Number</strong> вывод, <strong>ОК</strong> и <strong>Cancel</strong> – стандартные подтверждение и отмена.</p>
	</li>
	<li>для нумерации при большом количестве выводов проще воспользоваться командой <strong>Property Assignment Tools</strong> из меню <strong>Tools</strong>. Например, для нумерации выводов в строке <strong>String</strong> задаем <strong>PIN=NUM#</strong> и начальное значение <strong>Count</strong> равным <strong>1</strong>; для наименования всевозможных многоразрядных портов можно применить <strong>NAME</strong>=«название вывода»#; электрический тип вывода можно определить, задав в поле <strong>String</strong>: <strong>TYPE</strong>=«идентификатор типа», например, TYPE=IO.</li>
	<center><strong>Использование команды Make Device</strong></center>
	<p>Создание любого компонента в ISIS включает пять этапов:</p>
	<ol>
		<li><strong>Device Properties</strong> – определяет название компонента, обозначение, а также свойства, связанные с анимацией активных компонентов в Proteus VSM;</li>
		<li><strong>Packaging</strong> – содержит информацию о назначенных компоненту корпусах;</li>
		<li><strong>Component Properties &amp; Definition</strong> – позволяет создавать и редактировать свойства компонента;</li>
		<li><strong>Device Data Sheet &amp; Help File</strong> – прикрепление к модели файлов документации и помощи, которые могут использоваться при создании коммерческих моделей с последующим распространением в качестве стандартных;</li>
		<li><strong>Library selection</strong> – выбор библиотеки, в которой будет храниться созданный компонент.</li>
	</ol>
	<p>После создания условного графического изображения компонента, размещения и обозначения выводов необходимо скомпоновать его в единое целое и поместить в библиотеку для дальнейшего использования при создании принципиальных схем. Чтобы создать модель необходимо выделить те графические компоненты, из которых будет создаваться модель, и выбрать функцию <strong>Make Device</strong> в верхнем меню или в контекстном меню правой кнопкой мыши. При выделении должны быть охвачены все элементы компонента, в том числе и маркер <strong>ORIGIN</strong>.</p>
	<p>При вызове команды <strong>Make Device</strong> открывается первое из окон создания компонента <strong>Device Property</strong> (Рис. 116). Это диалоговое окно разбито на две части: <strong>General Properties</strong> (Общие свойства) и <strong>Active Component Properties</strong> (Свойства активных компонентов). Раздел <strong>General Properties</strong> определяет название компонента (<strong>Device Name</strong>) и обозначение (<strong>Reference Prefix</strong>), появляющееся в верхней части помещенного на схему компонента и под которым компонент будет заноситься в список цепей. В поле <strong>External Module</strong> вводится любая внешняя модель, которую необходимо прикрепить к компоненту, когда он помещается на схему. Раздел <strong>Active Component Properties section</strong> используется для создания активных (взаимодействующих с пользователем) компонентов в Proteus VSM. В поле <strong>Symbol Name Stem</strong> указываем название созданных графических символов, которые будут отображать различные состояния работы активного компонента, а в графе <strong>No. of States</strong> их количество, учитывая символ с нулевым индексом. Установленный флажок <strong>Bitwise States?</strong> определяет активный компонент, у которого каждый графический символ связан с состоянием определенного вывода компонента, например, как у семисегментного индикатора. Флажок <strong>Link to DDL?</strong> связывает активные свойства модели с программной библиотекой DDL.</p>
	<p>Второе окно <strong>Packaging</strong> (Рис. 117) определяет назначенные компоненту корпуса. Для создаваемого компонента этот список будет пуст. Для добавления нового корпуса необходимо нажать на кнопку <strong>Add/Edit</strong> внизу диалогового окна, которое запустит инструмент <strong>Visual Packaging Tool</strong> (Рис. 118). Инструмент <strong>Visual Packaging Tool</strong> открывает диалоговое окно, в котором можно назначить различные корпуса условному графическому изображению компонента. Для каждого корпуса создается таблица соответствия номеров вывода с именами, так как одному и тому же выводу на схеме могут соответствовать различные выводы для различных корпусов. Инструмент также позволяет определять номера выводов для каждого элемента в многоэлементном корпусе и номер каждой линии в выводе типа «шина».</p>
	<p>В верхней части диалогового окна нажмите кнопку <strong>Add</strong> для выбора корпуса из библиотек ARES. По аналогии с библиотекой объектов ISIS компоненты можно выбирать по категориям <strong>Category</strong>, типам (<strong>Type</strong>), подкатегориями <strong>Sub-categories</strong> или искать по ключевым словам <strong>Keywords</strong>. При установленном флажке Match Whole Words? поиск проводится так, чтобы ключевое слово полностью совпадало со значением свойства объекта. В противном случае допустимо частичное совпадение. В средней части диалогового окна отображаются результаты поиска <strong>Results</strong>, при этом сортировка производится по названию компонента (<strong>Device</strong>), библиотеке (<strong>Library</strong>), в которой он находится, коду хранения на складе (<strong>Stock Code</strong>) и краткому описанию (<strong>Description</strong>). Нажав правой кнопкой мыши на свободном поле, можно также выбрать дополнительные столбцы для отображения: категория (<strong>Category</strong>), тип (<strong>Type</strong>), подкатегория (<strong>Sub-Category</strong>). В нижней левой части окна расположено окно предварительного просмотра выбираемого корпуса <strong>Package Prewiew</strong>. Для подтверждения выбранного корпуса необходимо нажать кнопку OK. Выбранный корпус отобразиться в раскрывающемся списке <strong>Packagings</strong>. Установленный флажок <strong>Default package?</strong> определяет какой из корпусов будет использоваться по умолчанию при выборе компонента. Кнопки <strong>Rename</strong>, <strong>Delete</strong> и <strong>Order</strong> позволяют изменять выбранный корпус на другой, удалять корпус и производить сортировку корпусов по алфавиту.</p>
	<center><img src="/images/isis/makedevice.png" alt=""></center>
	<center>Рис. 116</center>
	<p>Поле <strong>No. of Gates</strong> определяет число элементов в многоэлементном компоненте. При задании числа больше единицы в таблице добавляются столбцы B, C и т. д. для каждого следующего элемента. Установленный флажок <strong>Gates (elements) can be swapped on the PCB layout?</strong> позволяет менять местами однотипные элементы корпуса при авторазводке платы. В таблице расположенной ниже можно вводить номера выводов каждого элемента, а также выбрать какие выводы являются общими для всех элементов многоэлементного компонента. Выбрав строку A, назначать номера выводов можно непосредственно, вводя в неё название вывода или выбирая вывод в окне предварительного просмотра. Электрический тип вывода отображается только для информации и здесь его изменить нельзя. Выводы с назначенными номерами выделяются, чтобы можно было увидеть, какие выводы остались не назначенными. Также указав на вывод курсором мыши, ISIS отобразит назначенное ему название (если оно было задано) и номер вывода.</p>
	<p>Для подключения питания часто используются скрытые выводы (для них установлена галочка в столбце <strong>Hidden</strong>), чтобы не загромождать принципиальную схему. Скрытый вывод может быть определен двумя способами:</p>
	<ul>
		<li>сняв флажок Draw Body? в диалоговом окне <strong>Edit Pin</strong>. Такой вывод будет присутствовать в таблице выводов и для всех создаваемых корпусов.</li>
		<li>нажав кнопку <strong>Add Pin</strong>. Это создаст скрытый вывод для конкретного корпуса, который будет считаться общим для всех его элементов. Кнопка <strong>Remove Pin</strong> соответственно позволяет удалить, созданный таким образом вывод.</li>
	</ul>
	<p>Общие выводы (для них установлена галочка в столбце <strong>Common</strong>) обычно используются для подключения питания, а также линий стробирования/разрешения. Если общий вывод не скрытый, то любой проводник, подсоединенный к одному из элементов, будет соединен со всеми остальными элементами многоэлементного компонента.</p>
	<p>В поле <strong>NC pins</strong> через запятую вводятся номера выводов, которые ни к чему не подключаются.</p>
	<p>Поле <strong>Swapable Pins</strong> позволяет определить группу выводов, которые электрически взаимозаменяемы, например, входы логических элементов И, ИЛИ. Такую группу можно добавить, выделив выводы (удерживая CTRL и щелкая левой кнопкой мыши по названиям выводов) и затем нажав кнопку <strong>Add</strong>. Удалить назначенную группу можно с помощью кнопки Remove, а изменить список выводов с помощью кнопки <strong>Replace</strong>.</p>
	<center><img src="/images/isis/pack.png" alt=""></center>
	<center>Рис. 117</center>
	<p>Установленный флажок <strong>Use ARES Libraries</strong> позволяет выбирать корпуса из библиотек ARES, осуществлять предварительный просмотр, выбранного корпуса и проверять соответствие назначенных названий и номеров выводов.</p>
	<p>Назначив компоненту все необходимые корпуса можно сохранить изменения, нажав кнопку <strong>Assign Package(s)</strong>. Кнопка <strong>Cancel</strong> позволяет отменить все сделанные изменения. Данный этап в некоторых случаях можно пропустить и назначить корпус новому компоненту позднее.</p>
	<p><strong>Component Properties &amp; Definition</strong> – данное диалоговое окно используется для определения свойств и их значений по умолчанию (Рис. 119). В левой части диалогового окна можно выбрать свойства, задаваемые компоненту, тогда как в правой части определяется тип, видимость и значения по умолчанию для свойств. Аналогичное окно вызывается по команде <strong>Set Property Definitions</strong> из меню <strong>System</strong> в ISIS. Обычно удобно определять компонентам свойства по умолчанию, которые назначаются каждому компоненту, когда он помещается на схему. Примерами таких свойств могут быть:</p>
	<ul>
		<li><strong>PACKAGE</strong> (корпус), необходимый для проектирования печатной платы.</li>
		<li><strong>PRIMITIVE</strong> (примитив), <strong>MODEL</strong> (модель) и <strong>MODFILE</strong> (файл модели) для моделирования. Все системные компоненты, поддерживающие симуляцию, содержат эти свойства по умолчанию.</li>
		<li>код хранения на складе и/или поставщика. Если добавить эти свойства в создаваемые элементы, то они могут быть включены в отчет о перечне элементов схемы (<strong>Bill of Materials</strong>).</li>
	</ul>
	<p>Чтобы добавить свойство по умолчанию к компоненту при его создании необходимо:</p>
	<ol>
		<li>пошагово выполнить этапы создания компонента;</li>
		<li>использовать диалоговое окно <strong>Component Properties &amp; Definition</strong> для назначения свойств и их значений по умолчанию.</li>
		<li>сохранить компонент в библиотеке обычным способом.</li>
	</ol>
	<p>Чтобы добавить свойство по умолчанию к существующему компоненту необходимо:</p>
	<ol>
		<li>выбрать, поместить на схему и выделить компонент.</li>
		<li>использовать команду <strong>Make Device</strong> и нажимать <strong>Next</strong>, пока не произойдет переход к диалоговому окну <strong>Component Properties &amp; Definition</strong>. В окне будут отображены все существующие свойства.</li>
		<li>отредактировать необходимые свойства.</li>
		<li>нажать <strong>Next</strong> дважды и затем сохранить компонент обратно в библиотеку, нажав OK.</li>
	</ol>
	<p>Данный этап в некоторых случаях можно пропустить и назначить свойства новому компоненту позднее.</p>
	<center><img src="/images/isis/pack1.png" alt=""></center>
	<center>Рис. 118</center>	
	<center><img src="/images/isis/comp.png" alt=""></center>
	<center>Рис. 119</center>
	<p><strong>Device Data Sheet &amp; Help File</strong> – позволяет прикрепить файл технической документации <strong>Data Sheet Filename</strong> (файл Acrobat PDF) и/или файл помощи <strong>Help File</strong>. Затем они могут быть открыты через специальные кнопки (<strong>Data</strong> – для файла технической документации и <strong>Help</strong> – для файла помощи) в диалоговом окне <strong>Edit Component</strong>. Техническая документация может быть расположена в трех местах:</p>
	<ul>
		<li>в каталоге Data в директории, где установлен Proteus VSM. Можно изменить каталог, в которой Proteus осуществляет поиск файлов технической документации, нажав кнопку <strong>Path Settings</strong> при появлении диалогового окна <strong>Data Sheet Not Found</strong>, которое возникает, когда Proteus не может найти файл технической документации.</li>
		<li>на FTP сервере – расположенном в Интернет или во внутренней сети компании (поля <strong>FTP Server</strong> и <strong>FTP Path</strong>). Для некоторых серверов, необходимо также ввести логин и пароль (поля <strong>FTP User Id</strong> и <strong>FTP Password</strong>).</li>
		<li>на CD или CD-R диске (поля <strong>CD Title</strong> (название CD) и <strong>CD Path</strong> (путь к CD)).</li>
	</ul>
	<p>Основная идея заключается в том, что существует общее хранилище для технической документации и Proteus VSM копирует из него файлы по требованию пользователя.</p>
	<p>Давать ссылку на файл помощи желательно при создании сложных моделей для PROSPICE симулятора, когда необходимо создать документацию, связанную с моделью. Такая информация будет полезна опытным пользователям и разработчикам модели. Поле <strong>Context Number</strong> определяет страницу, на которую произойдет переход, в многостраничном файле помощи.</p>
	<p><strong>Library selection</strong> – последний этап создания компонента, в котором вводится информация для быстрого поиска созданного компонента и библиотека, в котором будет храниться компонент (Рис. 120). В правой части диалогового окна <strong>Save Device To Library</strong> отображаются библиотеки доступные для чтения/записи. В раскрывающемся меню <strong>Device Category</strong> отображается список существующих категорий, а меню <strong>Device Sub-category</strong> содержит список подкатегорий для данной выбранной категории. Меню <strong>Device Manufacturer</strong> позволяет выбрать из списка производителя компонента. В поле <strong>Stock/Order Code</strong> вводится код для заказа или хранения на складе, а в поле <strong>Device Description</strong> вводится описание компонента. Оба этих поля отображаются при выборе компонента из библиотеки объектов. Разработчик может добавлять новые категории и подкатегории, производителя, нажав кнопку New и введя их название. Установленный флажок <strong>Advanced Mode</strong> (<strong>Edit Fields Manually</strong>) позволяет вручную отредактировать поля <strong>Device Category</strong>, <strong>Device Sub-category</strong>, <strong>Device Manifacturer</strong>. Поле <strong>Device Notes</strong> позволяет ввести дополнительную информацию, связанную с компонентом, например, о параметрах или ограничениях симуляции. Эту информацию можно просмотреть в диалоговом меню <strong>Edit Component</strong> (выделив компонент нажать CTRL+E или в меню, вызываемом правой кнопкой мыши, выбрав команду <strong>Edit Properties</strong>), нажав кнопку <strong>Device Notes</strong>.</p>
	<p>Все вновь созданные компоненты по умолчанию Proteus VSM будет помещать в библиотеку <strong>USERDVC</strong>. После нажатия кнопки <strong>OK</strong> на последней пятой вкладке компонент сохраняется в выбранной библиотеке ISIS.</p>
	<p>Кнопки, расположенные в нижней части диалогового окна на каждом из этапов, позволяют:</p>
	<ul>
		<li><strong>Help</strong> – вызвать встроенную в ISIS помощь по созданию компонентов;</li>
		<li><strong>Back</strong> – вернуться на один этап назад;</li>
		<li><strong>Next</strong> – перейти на один этап вперед;</li>
		<li><strong>OK</strong> – завершить создание компонента и сохранить его в библиотеку ISIS;</li>
		<li><strong>Cancel</strong> – отменить процесс создания компонента.</li>
	</ul>
	<center><img src="/images/isis/index.png" alt=""></center>
	<center>Рис. 120</center>
	<center><strong>Создание одноэлементных компонентов</strong></center>
	<p>Большинство создаваемых компонентов имеют однозначное соответствие между обозначением на принципиальной схеме и корпусом. Для создания таких компонентов, необходимо:</p>
	<ol>
		<li>создать условное графическое обозначение компонента;</li>
		<li>разместить выводы компонента на условном графическом обозначении;</li>
		<li>обозначить выводы, присвоив им названия и типы, используя стандартные методы редактирования или <strong>Property Assignment Tool</strong>. На этом этапе также можно назначить номера выводов. В этом случае ISIS автоматически присвоит им номера выводов корпуса, выбираемого в <strong>Visual Packaging Tool</strong>.</li>
		<li>выделить все объекты, входящие в компонент. Применить команду <strong>Make Device</strong>.</li>
		<li>ввести название и обозначение компонента на схеме, нажать <strong>Next</strong>, чтобы перейти к этапу выбора корпуса.</li>
		<li>назначить компоненту корпус, нажав кнопку <strong>Add/Edit</strong> и используя <strong>Visual Packaging Tool</strong> для обозначения номеров выводов. После назначения корпуса, нажмите кнопку <strong>Assign Package(s)</strong>, чтобы вернуться в диалоговое окно <strong>Packagings</strong>.</li>
		<li>нажмите кнопку <strong>Next</strong>, чтобы перейти к этапу <strong>Component Properties &amp; Definition</strong>, и введите необходимые свойства и их значения по умолчанию.</li>
		<li>нажмите кнопку <strong>Next</strong>, чтобы перейти к этапу <strong>Device Data Sheet &amp; Help File</strong>; определите путь к файлу технической документации или помощи, которые необходимо связать с компонентом.</li>
		<li>нажмите кнопку <strong>Next</strong>, чтобы перейти к этапу <strong>Library Selection</strong> и выберите библиотеку, в которой необходимо сохранить компонент.</li>
		<li>нажмите кнопку OK для завершения процесса создания компонента.</li>
	</ol>
	<center><strong>Создание однородного многоэлементного компонента</strong></center>
	<p>Для создания однородного многоэлементного компонента необходимо:</p>
	<ol>
		<li>создать условное графическое обозначение компонента и разместить на нем выводы;</li>
		<li>обозначить выводы, присвоив им названия и типы, используя стандартные методы редактирования или <strong>Property Assignment Tool</strong>.</li>
		<li>выделить все объекты, входящие в компонент. Применить команду <strong>Make Device</strong>.</li>
		<li>ввести название и обозначение компонент на схеме, нажать <strong>Next</strong>, чтобы перейти к этапу выбора корпуса.</li>
		<li>нажмите кнопку <strong>Add/Edit</strong>, чтобы запустить <strong>Visual Packaging Tool</strong>.</li>
		<li>определить число элементов в компоненте (поле <strong>No. Of Gates</strong>) и затем заполнить таблицу для каждого элемента. Общие выводы, например, питания, должны иметь одинаковый номер вывода для всех элементов.</li>
		<li>повторить шаги 7–9, используемые при создании одноэлементных компонентов.</li>
	</ol>
	<center><strong>Создание разнородного многоэлементного компонента</strong></center>
	<p>Разнородное многоэлементное компонент – это компонент, который состоит из нескольких разнородных компонентов, каждый из которых помещается в виде отдельного элемента на схему. Для создания разнородного многоэлементного компонента необходимо:</p>
	<ol>
		<li>создать условные графические обозначения компонентов и разместить на них выводы. Убедиться, что элементы достаточно разделены в основном окне редактирования, чтобы можно было по отдельности выделить каждый из них.</li>
		<li>обозначить выводы, присвоив им только названия и типы.</li>
		<li>выделить все объекты, составляющие первый элемент. Применить команду <strong>Make Device</strong>. Ввести название компонента (<strong>Device Name</strong>) в виде NAME:A, где NAME – это любое название, которое будет использоваться для обозначения всего компонента. Индекс A определяет, что это первый элемент разнородного компонента.</li>
		<li>нажмите кнопку <strong>Next</strong> и перейдите к этапу <strong>Component Properties &amp; Definition</strong>, введите необходимые свойства и их значения по умолчанию. Не назначайте корпус для разнородного элемента в окне <strong>Packagings</strong>.</li>
		<li>нажмите кнопку <strong>Next</strong>, чтобы перейти к этапу <strong>Device Data Sheet &amp; Help File</strong>; определите путь к файлу технической документации или помощи, которые необходимо связать с компонента.</li>
		<li>нажмите кнопку <strong>Next</strong>, чтобы перейти к этапу <strong>Library Selection</strong> и выберите библиотеку, в которой необходимо сохранить компонент. Нажмите кнопку OK для сохранения.</li>
		<li>Повторите процедуру, начиная с шага 3 для других элементов, давая им имена
				<center>E:B, NAME:C и т. д.</center>
		</li>		
		<li>в режиме <strong>Component Mode</strong> (левое меню, набор 1, вторая команда) выбрать по одному экземпляру каждого элемента компонента и разместить их в свободной области схемы.</li>
		<li>выделить размещенные элементы и используйте команду из меню <strong>Library → Packaging Tool</strong>. В появившейся таблице будут столбцы для каждого элемента, но выводы, которые недоступны для определенного элемента обозначены прочерком («–») в таблице.</li>
		<li>создать корпус и ввести номера выводов как обычно.</li>
		<li>нажать кнопку <strong>Assign Package(s)</strong>, чтобы сохранить корпус разнородного многоэлементного компонента. При этом будет обновлен корпус для каждого созданного элемента компонента.</li>
	</ol>
	<center><strong>Создание компонента с выводами типа «шина»</strong></center>
	<p>ISIS поддерживает компоненты, в которых один вывод на принципиальной схеме представляет несколько выводов физического компонента. Такой вывод называется шиной и используется для компактного изображения портов микропроцессоров и их периферийных устройств. Подобно многоэлементным компонентам, для ввода номеров выводов для каждой линии шины используется <strong>Visual Packaging Tool</strong>. Для создания компонента с выводами типа «шина» необходимо:</p>
	<ol>
		<li>создать условное графическое обозначение компонента по аналогии с одноэлементным устройством. Разместить на нем выводы, используя вывод «шина».</li>
		<li>обозначить выводы, присвоив им только названия и типы. Для вывода «шина» необходимо определить количество линий в ней, например, D[0..7]. В случае необходимости размерность шины можно скрыть, убрав флажок <strong>Draw Name</strong>.</li>
		<li>выделить все объекты, входящие в компонент. Применить команду <strong>Make Device</strong>.</li>
		<li>ввести название и обозначение компонента на схеме, нажать <strong>Next</strong>, чтобы перейти к этапу выбора корпуса.</li>
		<li>нажмите кнопку Add/Edit и используйте <strong>Visual Packaging Tool</strong> для выбора корпуса и обозначения номеров выводов. В таблице отдельной строкой будет показана каждая линия шины. Дальнейший процесс обозначения ничем не отличается от подобного при создании одноэлементных компонентов. После назначения корпуса, нажмите кнопку <strong>Assign Package(s)</strong>, чтобы вернуться в диалоговое окно <strong>Packagings</strong>.</li>
		<li>повторить шаги 7–9, используемые при создании одноэлементных компонентов.</li>
	</ol>

	<center><strong>Создание выводов питания</strong></center>
	<p>ISIS позволяет создавать выводы питания различными способами:</p>
	<ul>
		<li>создавать видимые выводы питания, к которым можно физически подсоединить проводники. Преимущество такого способа – разработчик видит к чему подключен конкретный компонент, недостаток – усложнение чтения схемы, при использовании большого количества интегральных схем.</li>
		<li>скрыть выводы питания и позволить ISIS по умолчанию соединять эти выводы с одноименными цепями на схеме. Например, скрытый вывод VCC будет подсоединен к цепи VCC, а скрытый вывод GND к цепи GND.</li>
		<li>скрыть выводы питания и явно определить к каким цепям их необходимо подсоединить, используя определяемые пользователем свойства. Например, пользовательское свойство VCC = +5V, используемое для объекта со скрытым выводом VCC подсоединит этот вывод к цепи +5V. Для этого в свойствах <strong>Edit Properties</strong> вводим в <strong>Other Properties</strong> строку VCC = +5V или нажимаем справа кнопку <strong>Hidden Pins</strong>. В открывшемся окне вводим для <strong>Pin VDD</strong> текст +5V. При этом новые напряжения автоматически появятся в диалоговом окне <strong>Configure Power Rails</strong>.</li>
	</ul>
	<p>В общем случае можно использовать все три способа для создания различных частей схемы. Однако, в поставляемых с Proteus библиотеках почти все цифровые устройства имеют скрытые выводы питания, а большинство аналоговых объектов видимые выводы питания, которые можно подключить к соответствующим источникам.</p>
	<p>Чтобы создать скрытый вывод для простого, одноэлементного компонента:</p>
	<ol>
		<li>поместить вывод на условном графическом обозначении обычным способом;</li>
		<li>открыть диалоговое окно <strong>Edit Pin</strong>, щелкнув правой кнопкой на выводе и выбрав в диалоговом меню <strong>Edit Properties</strong>.</li>
		<li>убрать флажок <strong>Draw body</strong>. Это скроет сам вывод, его название и номер независимо от установки флажков Draw name и Draw number. При этом вывод изменит цвет на серый.</li>
		<li>если это вывод питания, то выбрать тип вывода – <strong>Power</strong>.</li>
	</ol>
	<p>Чтобы создать скрытый вывод питания для определенного корпуса:</p>
	<ol><li>создать компонент обычным способом, не размещая на нём скрытые выводы.</li>
		<li>при создании корпусов внутри <strong>Visual Packaging Tool</strong> используйте команду <strong>Add Pin</strong> для создания дополнительной строки для скрытого вывода.</li>
		<li>ввести название для скрытого вывода, например, VCC, и назначить ему номер.</li>
	</ol>
	<p>Также можно переназначить цепь для скрытого вывода, используя <strong>Property Assignment Tool</strong>. Для этого в строке <strong>String</strong> введите PINNAME = NET, где PINNAME – название скрытого вывода, а NET – название цепи, к которой его необходимо подсоединить.</p>
	<center><strong>Создание графических символов</strong></center>
	<p>Символ – это сгруппированные объекты двумерной графики, которые рассматриваются как один объект. Например, используя линии и текст можно создать условное графическое обозначение логического элемента И в виде символа.</p>
	<center><img src="/images/isis/symbol.png" alt=""></center>
	<p>Чтобы создать графический символ необходимо:</p>
	<ol>
		<li>выбрать один из элементов двумерной графики, например, линия, прямоугольник, дуга и т. д.</li>
		<li>в селекторе объектов выбрать графический стиль соответствующий создаваемому символу. Для символа, который является основой будущих элементов – это в общем случае стиль COMPONENT, хотя при создании некоторых компонентов можно использовать и другие стили.</li>
		<li>выбрать и расположить графические объекты, которые формируют символ.</li>
		<li>если необходимо определить маркер выравнивания, то выберите пиктограмму «прицел», тип ORIGIN в селекторе объектов и поместите его, где необходимо. Если этого не сделать, то ISIS по умолчанию поместит маркер выравнивания в центре символа.</li>
		<li>выделить все объекты, входящие в символ.</li>
		<li>применить команду <strong>Make Symbol</strong>, выбрать название и библиотеку для нового символа (<strong>SYSTEM</strong> – системная библиотека символов и <strong>USERSYM</strong> – пользовательская, которая, если до этого не было создано собственных символов, пустая). Используйте тип символа – <strong>Graphic</strong>.</li>
		<li>нажать <strong>OK</strong> для завершения создания символа.</li>
	</ol>
	<p>Символ может содержать только элементы двумерной графики и не включает элементы цепи, такие как компоненты, проводники и т. д. Для работы с частями схемы, необходимо использовать команды <strong>Import Section</strong> и <strong>Export Section</strong> из меню <strong>File</strong>.</p>
	<center><strong>Пользовательские терминалы</strong></center>
	<p>ISIS позволяет определять пользовательские символы, которые могут использоваться для логических или физических терминалов. Они создаются подобно обычным символам, за исключением того, что необходимо поместить маркер <strong>Node</strong> (узел), чтобы указать точку подсоединения терминала и маркер <strong>Label</strong> (метка), чтобы указать положение и ориентацию метки его цепи.</p>
	<p>Чтобы создать пользовательский терминал, необходимо:</p>
	<ol>
		<li>выбрать один из элементов двумерной графики, обычно, линию.</li>
		<li>в селекторе объектов выбрать графический стиль соответствующий создаваемому символу. Это обычно стиль <strong>TERMINAL</strong>.</li>
		<li>выберите и расположите графические объекты, которые формируют терминал.</li>
		<li>выберите пиктограмму «прицел» (<strong>2D Graphics Markers Mode</strong>). Поместите маркеры <strong>Node</strong> или <strong>Busnode</strong> в том месте, где проводник или шина должны подсоединяться к терминалу и маркер <strong>Label</strong> в том месте, где должна быть его метка цепи. Также можно поместить маркер <strong>Origin</strong>, чтобы определить маркер привязки на схеме.</li>
		<li>выделить все объекты, входящие в терминал. </li>
		<li>применить команду <strong>Make Symbol</strong>, выбрать тип <strong>Terminal</strong>, название и библиотеку для нового терминала.</li>
		<li>нажмать <strong>OK</strong> для завершения создания терминала.</li>
	</ol>
	<p>Электрический тип пользовательского терминала будет всегда <strong>Passive</strong> по умолчанию. Назначить другой тип можно после размещения терминала на схеме с помощью инструмента <strong>Property Assignment Tool</strong>.</p>
	<center><strong>Пользовательские порты подсхем</strong></center>
	<p>Порты подсхем – это разъемы, используемые для подсоединения проводников и для них можно создать пользовательские графические обозначения. Они создаются таким же образом, как и обычные символы, за исключением того, что необходимо поместить маркер <strong>Node</strong>, чтобы определить место, к которому подключается проводник, входящий в порт, и маркер <strong>Label</strong>, чтобы определить положение и ориентацию его метки.</p>
	<p>Чтобы создать пользовательский порт подсхемы, необходимо:</p>
	<ol>
		<li>выбрать один из элементов двумерной графики, обычно, линию;</li>
		<li>в селекторе объектов выбрать графический стиль соответствующий создаваемому символу. Это обычно стиль <strong>PORT</strong>;</li>
		<li>выбрать и расположить графические объекты, которые формируют символ порта. При прорисовке порта необходимо его ориентировать таким образом, чтобы его было удобно размещать с левой стороны подсхемы. ISIS автоматически отобразит его горизонтально, если он помещается справой стороны.</li>
		<li>выбрать пиктограмму «прицел» (<strong>2D Graphics Markers Mode</strong>). Поместить маркеры <strong>Node</strong> или <strong>Busnode</strong> в том месте, где проводник или шина должны подсоединяться к порту и маркер <strong>Label</strong> в том месте, где должна быть его метка цепи. Также можно поместить маркер <strong>Origin</strong>, чтобы определить маркер привязки на схеме.</li>
		<li>выделить все объекты, входящие в порт. </li>
		<li>применить команду <strong>Make Symbol</strong>, выбрать тип <strong>Module Port</strong>, название и библиотеку для нового порта.</li>
		<li>нажать <strong>OK</strong> для завершения создания порта подсхемы.</li>
	</ol>
	<center><strong>Пользовательские выводы компонентов</strong></center>
	<p>Выводы компонентов по существу являются символами и, следовательно, пользователь может определять для них свои собственные условные графические обозначения. Множество различных выводов компонентов находится в библиотеке SYSTEM.LIB. Тем не менее, в некоторых случаях, необходимо использовать свой созданный вывод.</p>
	<p>Чтобы создать пользовательский вывод компонента, необходимо:</p>
	<ol>
		<li>выбрать один из элементов двумерной графики, обычно, линию.</li>
		<li>в селекторе объектов выбрать графический стиль соответствующий создаваемому символу. Это обычно стиль <strong>PIN</strong> для обычного вывода или <strong>BUS WIRE</strong> для вывода типа «шина».</li>
		<li>выбрать и расположить графические объекты, которые формируют символ вывода.</li>
		<li>выбрать пиктограмму «прицел» (<strong>2D Graphics Markers Mode</strong>). Поместить маркеры <strong>Node</strong> или <strong>Busnode</strong> в том месте, где проводник или шина должны подсоединяться к выводу, маркер <strong>Pinname</strong>, где должно находиться название вывода, и маркер <strong>Pinnum</strong> в том месте, где должен быть номер вывода. Также можно поместить маркер <strong>Origin</strong>, чтобы определить маркер привязки на схеме.</li>
		<li>выделить все объекты, входящие в вывод.</li>
		<li>применить команду <strong>Make Symbol</strong>, выбрать тип <strong>Device Pin</strong>, название и библиотеку для нового вывода.</li>
		<li>нажать <strong>OK</strong> для завершения создания вывода компонента.</li>
	</ol>
	<center><strong>Редактирование существующего символа</strong></center>
	<p>Любой тип символа можно отредактировать, поместив его экземпляр на схеме и затем используя команду <strong>Decompose</strong> из меню <strong>Library</strong>. Чтобы отредактировать существующий символ, необходимо:</p>
	<ol>
		<li>поместить экземпляр символа на схему. Это может быть графический символ, терминал, порт подсхемы или вывод компонента.</li>
		<li>выделить объект.</li>
		<li>применить команду <strong>Decompose</strong>. Она разобьет символ на графические элементы и маркеры.</li>
		<li>если необходимо, добавить, удалить или отредактировать графические элементы и маркеры.</li>
		<li>воспроизвести процедуру создания символа приведенную выше, в зависимости от типа символа.</li>
	</ol>
	<center><strong>Создание иерархических символов</strong></center>
	<p>ISIS позволяет создавать символы, содержащие другие символы и/или другие графические объекты. Например, логический элемент И-НЕ можно создать, используя символ логического И и окружности. Символы, создаваемые из других символов, не связаны друг с другом, т. е., изменение или удаление составляющих иерархического символа не приведет к его искажению.</p>

</div>