# Меню Tools

<div style="text-align:justify;">
<p><strong> Trace Angle Lock (CRTL+K)</strong> – запрет изменения угла разводки дорожки; ограничивает разводку участков дорожки только углами 90 и 45 градусов. Инструмент <strong> Trace Angle Lock</strong>  также может помочь при разводке дорожки, когда одна из контактных площадок находится не в точках сетки, т. е. проводимая дорожка не будет совпадать с центром контактной площадки. При включенном инструменте <strong>Trace Angle Lock</strong>  щелчок на контактной площадке вне точек сетки запустит <strong>Trace Angle Fixup</strong> (Коррекцию угла дорожки), которая переместит дорожку так, чтобы выполнялись правила запрета изменения угла дорожки. Инструменты <strong>Trace Angle Lock</strong> и <strong>Trace Angle Fixup</strong> активны по умолчанию. Пользователь может отключить их или включить повторно, сняв или установив галочку.</p>
<p><strong>Auto Trace Selection (CTRL+T)</strong> – позволяет автоматически выбирать соответствующие стили дорожек и переходных отверстий для заданной цепи, в зависимости от класс цепи, к которой они относятся. Эта функция может быть отключена, сняв галочку, например, если различные части дорожки должны иметь разную толщину.</p>
<p><strong>Auto Track Necking (CTRL+N)</strong> – позволяет автоматически уменьшить размер дорожки, чтобы её можно было провести между двумя контактными площадками или другими препятствиями без нарушения правил проектирования. Функция настраивается командой <strong>Set Design Rules</strong> из меню <strong>System</strong>. Диалоговое окно позволяет выбрать из выпадающего списка стиль дорожки, который необходимо использовать для уменьшения дорожки. По умолчанию таким стилем дорожки является T10 – дорожка толщиной 10 мил.</p>
<p>Чтобы полностью отключить <strong>Auto Track Necking</strong>, снимите галочку с команды. При этом значительно увеличивается скорость размещения дорожек, поскольку выполняется сложный анализ при включенной функции <strong>Auto Track Necking</strong>.</p>
<p>При использовании <strong>Auto Track Necking</strong> ARES также проверяет физические нарушения правил проектирования. Сначала программа попытается уменьшить размер дорожки, чтобы избежать их, но если нарушение не исчезнет, то выдаст предупреждение и звуковой сигнал. Дорожка, тем не менее, разведется. Этот процесс требует больше времени и в случае значительного увеличения времени разводки, можно попытаться отключить функцию <strong>Auto Track Necking</strong>.</p>
<p><strong>Auto Zone Regeneration (CTRL+R)</strong> – позволяет автоматически перерисовывать области металлизации после их редактирования.</p>
<p><strong>Search and Tag… (T)</strong> – поиск и выделение в пределах проекта компонента или другого объекта, соответствующего определенным критериям (Рис. 46). Этот критерий определяется свойствами объекта, по которым происходит поиск. В выпадающем списке <strong>Field</strong> выбирается общее свойство для объектов: REF – обозначение, VALUE – номинал (название) или PACKAGE – корпус. В поле <strong>String</strong> (Строка поиска) вводится конкретная строка поиска (например: R2, С3 или U10 для свойства REF). Затем после нажатия на кнопку <strong>OK</strong>, происходит выделение всех найденных элементов. В разделе <strong>Mode</strong> выбирается условие поиска: <strong>Equals</strong> – совпадает, <strong>Begins</strong> – начинается, <strong>Contains</strong> – содержит, <strong>Not Equals</strong> – не совпадает, <strong>Not Begins</strong> – не начинается, <strong>Not Contains</strong> – не содержит. В разделе <strong>Range</strong> определяется диапазон слоев, в пределах которого происходит поиск: <strong>Top</strong> – верхний медный слой; <strong>Bottom</strong> – верхний медный слой; <strong>All</strong> – все слои. Команда производит новый поиск без учета ранее найденных компонентов.</p>
<p><strong>OR Search and Tag…</strong> – аналогична команде <strong>Search and Tag…</strong>, но позволяет добавить найденные объекты к выделенным ранее.</p>
<p><strong>AND Search and Tag…</strong> – аналогична команде <strong>Search and Tag…</strong>, но осуществляет поиск среди уже выделенных объектов.</p>
<center><img src="/images/chapter6/search.png" ></center>
<center>Рис. 46</center>
<p><strong>Auto Name Generator…</strong> – позволяет автоматически изменить название и пронумеровать компоненты или контактные площадки на плате (Рис. 47).</p>
<center><img src="/images/chapter6/autoname.png" ></center>
<center>Рис. 47</center>
<p>В поле <strong>String</strong> вводится строка, определяющая название компонентов, например, чтобы назвать три компонента DD1, DD2 и DD3, необходимо ввести в этой поле DD. В поле <strong>Count</strong> вводится начальное число, с которого необходимо начать нумерацию. После щелчка левой кнопкой на компоненте или контактной площадке число автоматически увеличивается на единицу.</p>
<p>Рассмотрим различные виды курсора при редактировании проекта, поскольку при использовании команды <strong>Auto Name Generator…</strong> характерно меняется вид курсора. ARES динамически изменяет вид курсора, подсказывая пользователю, что произойдет при щелчке левой кнопкой мыши в каждый момент времени. В таблице 1 приведены различные виды курсора в зависимости от выполняемой функции.</p>
<p style="text-align:right">Таблица 1 – Виды курсора в ARES.</p>
<table style="text-align:center;">
<tbody>
<tr>
<td><strong>Вид курсора</strong></td>
<td><strong>Описание</strong></td>
</tr>
<tr>
<td><img src="images/chapter6/standardcursor.png" style="width:50px; height: 60px;"></td>
<td>Стандартный курсор, отображается пока курсор находится над свободной область печатной платы</td>
</tr>
<tr>
<td><img src="images/chapter6/pencil.png" style="width:50px; height: 60px;"></td>
<td>Вид курсора при активированной функции размещения объекта (щелчок левой кнопкой мыши размещает объект)</td>
</tr>
<tr>
<td><img src="images/chapter6/hand.png" style="width:50px; height: 60px;"></td>
<td>Вид курсора при активированной функции выбора объекта (щелчок левой кнопкой мыши выделяет объект)</td>
</tr>
<tr>
<td><img src="images/chapter6/handmove.png" style="width:50px; height: 60px;"></td>
<td>Вид курсора при активированной функции перемещения объекта (переместить выделенный объект можно, зажав левую кнопку мыши)</td>
</tr>
<tr>
<td><img src="images/chapter6/updownarrow.png" style="width:50px; height: 60px;"></td>
<td>Дорожка может быть сдвинута при удержании левой кнопки мыши</td>
</tr>
<tr>
<td><img src="images/chapter6/arrows.png" style="width:50px; height: 60px;"></td>
<td>Вид курсора при активированной функции перемещения группы выделенных объектов (переместить выделенную группу объектов можно, зажав левую кнопку мыши)</td>
</tr>
<tr>
<td><img src="images/chapter6/handequals.png" style="width:50px; height: 60px;"></td>
<td>При использовании функции <strong>Auto Name Generator</strong> щелчок левой кнопкой назначит новое название и номер объекту под курсором</td>
</tr>
</tbody>
</table>
<p><strong>Design Rule Manager…</strong> – настройка встроенной системы проверки правил проектирования для предупреждения пользователя в случаях, когда зазоры между объектами на печатной плате меньше, чем необходимо для проекта. При разводке новой печатной платы прежде всего рекомендуется настроить эту функцию; это не только позволит избежать ошибок, но и учитывать алгоритмами авто- и ручной разводки указанные значения толщин дорожек и зазоров. Данная система основывается на четырех ключевых понятиях: классах цепей; зазорах при проектировании; правилах проектирования и состоянии программы проверки правил проектирования печатной платы.</p>
<center><strong>Классы цепей</strong></center>
<p>Класс цепи – это цепь или группа цепей, которые имеют одинаковые электрические характеристики (например, питающие). Как только определен класс цепи, пользователь может управлять толщиной дорожки, стилями переходных отверстий и наборами пар слоев для этого класса, а также зазорами, создавая правила проектирования, связанные с этим классом. Смотри также раздел «Классы цепей» и пояснения к вкладке <strong>Net Classes</strong> команды <strong>Design Rule Manager</strong>.</p>
<center><strong>Зазоры при проектировании</strong></center>
<p>Существует множество физических зазоров (минимально допустимых расстояний) при проектировании, которые можно настроить для обеспечения их проверки в реальном времени во время разводки платы. В частности, следующие зазоры  можно настроить по отдельности:</p>
<ul>
<li>Pad - Pad Clearance (зазоры между контактными площадками);</li>
<li>Pad - Track Clearance (зазоры между контактной площадкой и дорожкой);</li>
<li>Pad - Track Clearance (зазоры между дорожками);</li>
<li>Graphics Clearance (зазоры между двумерной графикой и другими объектами);</li>
<li>Edge/Slot Clearance (зазоры между краем платы и другими объектами).</li>
</li>
</ul>
<center><strong>Правила проектирования</strong></center>
<p>Правила проектирования являются настраиваемыми параметрами, с помощью которых осуществляется редактирование зазоров, применяемых к печатной плате. В простейшем случае значения по умолчанию для этих параметров (правило DEFAULT) определяют зазоры, которые применяются ко всем слоям и всем классам цепей; другими словами, они определяют допуски при производстве платы. Кроме этого, ARES позволяет определить правила для каждого частного случая. Например, пользователь может задать разные значения зазоров для конкретного слоя или конкретного класса цепей.</p>
<center><strong>Состояние программы проверки правил проектирования печатной платы</strong></center>
<p>Состояние программы проверки правил проектирования печатной платы – это окно, отслеживающее и отображающее в реальном времени (расположенное по умолчанию в нижней правой части ARES) нарушения текущих правил проектирования и значений зазоров, определенных для печатной платы. Смотри также раздел «Состояние программы проверки правил проектирования печатной платы».</p>
<p>После вызова команды открывается диалоговое окно, состоящее из двух вкладок, показанное на Рис. 48.</p>
<center><img src="/images/chapter6/designrulemanager.png" ></center>
<center>Рис. 48</center>
<p>В первой вкладке Design Rules определяются дополнительные правила проектирования для текущего проекта, позволяющие задавать различные значения для зазоров в зависимости от расположения объектов (правила проектирования для слоев), из электрических соображений (правила проектирования для класса цепи) или учитывая оба этих фактора. ARES позволяет определить любое количество таких правил при проектировании. Таким образом, необходимо добавлять новое правило проектирования для каждого требования к зазорам на печатной плате, которые отличаются от допусков при производстве (правило DEFAULT).</p>
<p>В верхней части вкладки можно создавать (кнопка New), переименовывать (кнопка Rename) и удалять (кнопка Delete) правила проектирования или выбирать существующее правило для редактирования из списка соединений. Правило DEFAULT является глобальным правилом для допусков и таким образом не редактируемо (его нельзя удалить). Оно применяется для всех слоев и всех классов цепей.</p>
<p>После создания нового правила пользователь может определить:</p>
<ul>
<li>будет ли это правило применяться ко всем слоям или к определенному выбранному слою (выпадающий список Apply to Layer);</li>
<li>будет ли это правило применяться к определенному классу цепей или ко всем классам (выпадающий список Apply to Net Class). Заметьте, что правило DEFAULT применяется ко всем классам цепей и что только в этом выпадающем списке появляются только классы цепей, имеющие название на принципиальной схеме;</li>
<li>будет ли данное правило применяться (раздел With Respect To) только в пределах этого же класса цепей (The Same Net Class), только относительно других классов цепей (Other Net Classes) или для всех классов цепей (All Net Classes). Заметьте, что если пользователь выбирает The Same Net Class или Other Net Classes, то зазоры между двумерной графикой, краями платы и объектами будут недоступны для редактирования, поскольку эти объекты не определены для класса цепи и значение зазоров в этом случае неизвестно. Эти зазоры игнорируются для такого правила. Раздел With Respect To неактивен, если текущее редактируемое правило применяется ко всем классам цепей (поле All Classes в выпадающем списке Apply to Net Class).</li>
</ul>
<p>В правой части вкладки определяются минимальные зазоры для правила, создаваемого в текущий момент: Pad - Pad Clearance; Pad - Track Clearance; Pad - Track Clearance; Graphics Clearance; Edge/Slot Clearance. Кнопка Apply Defaults присвоит этим зазорам значения, определенные в правиле DEFAULT, которое настраивается командой Set Default Rule из меню System.</p>
<p>Установленный флажок Enable Design Rule Checking? позволяет включить или выключить проверку выбранного правила в реальном времени.</p>
<center><strong>Иерархия правил проектирования</strong></center>
<p>Если пользователь создает несколько правил проектирования, которые потенциально могут пересекаться друг с другом, необходимо понимать как работает система правил проектирования.</p>
<p>ARES поддерживает иерархию типов правил в порядке возрастания приоритета. Правило с большим приоритетом будет превосходить пересекающееся с ним правило, которое имеет меньший приоритет. Когда два правила имеют одинаковый приоритет и они пересекаются, будет использоваться правило, которое имеет большее значение зазора.
Правила определенные для конкретных объектов будет иметь больший приоритет по сравнению с общими правилами; например, правило, использующееся для определенного слоя, будет иметь больший приоритет по сравнению с правилом DEFAULT, которое применяется для всей платы.
</p>
<p>Ниже дается пояснение по типам правил, начиная с самого нижнего уровня приоритета в иерархии правил и заканчивая самым высоким уровнем приоритета в иерархии.</p>
<center><strong>Правила для печатной платы (PCB Rule)</strong></center>
<p>Эти правила применяются ко всем слоям на плате и ко всем электрическим классам цепей. Существует только одно правило для печатной платы и этим правилом является заранее определенное правило DEFAULT (Рис. 49).</p>
<center><img src="/images/chapter6/designrulemanager.png" ></center>
<center>Рис. 49</center>
<p>Правило DEFAULT не может быть удалено по очевидным причинам и его нельзя изменить так, чтобы оно действовало для определенных слоев или классов цепей.</p>
<p>Правило DEFAULT имеет низший приоритет в дереве приоритетов правил проектирования; это означает, что любые дополнительные правила проектирования, действующие для определенного слоя или класса цепи, будут применяться вместо него.</p>
<center><strong>Правило для слоя (Per Layer Rule)</strong></center>
<p>Правило для слоя – это правило с зазорами, которые применяют для всех классов цепей, но в одном слое на печатной плате (Рис. 50).</p>
<p>Правило для слоя имеет более высокий приоритет по сравнению с правилом для печатной платы, но более низкий по сравнению со всеми другими типами правил.</p>
<center><img src="/images/chapter6/drmtop.png" ></center>
<center>Рис. 50</center>
<center><strong>Правило для класса цепи (для всех слоев) (Per Net Class Rule (All Layers))</strong></center>
<p>Правила для класса цепи – это правило с зазорами, которые применяются к заданному классу цепи на всех слоях печатной платы (Рис. 51).</p>
<p>Эта правило имеет более высокий приоритет по сравнению с правилами для печатной платы и любым правилом для слоя.</p>
<center><img src="/images/chapter6/drmsignal.png" ></center>
<center>Рис. 51</center>
<center><strong>Правило для класса цепи (для одного указанного слоя) (Per Net Class Rule (Per Layer))</strong></center>
<p>Это правило, при котором зазоры применяются для определенного класса цепи на определенном слое (Рис. 52).</p>
<p>Этот тип правил имеет более высокий приоритет по сравнению вышеприведенными правилами и в частности над правилом для класса цепи (для всех слоев).</p>
<center><img src="/images/chapter6/drmsignalbottom.png" ></center>
<center>Рис. 52</center>
<center><strong>Правило для класса цепи внутри этого класса (для всех слоев) Inter Net Class (All Layer)</strong></center>
<p>Правило для класса цепи внутри этого класса – это правило, при котором зазоры применяются к определенному классу цепи, но относительно или самого себя или ко всем другим классам цепей (Рис. 53). Другими словами, такое правило, что зазоры применяются только между дорожками и контактными площадками одного и того же класса цепи или такое правило, что зазоры применяются только между дорожками и контактными площадками одного класса цепи относительно всех дорожек и контактных площадок всех других классов цепей.</p>
<p>В этом случае правило для класса цепи внутри этого класса применяется ко всем слоям; оно имеет второй по старшинству приоритет.</p>
<center><img src="/images/chapter6/drmsignalsignal.png" ></center>
<center>Рис. 53</center>
<center><strong>Правило для класса цепи внутри этого класса (для указанного слоя) Inter Net Class (Per Layer)</strong></center>
<p>Это правило аналогично предыдущему, за исключением того, что применяется к определенному слою (Рис. 54). Оно имеет наивысший приоритет и будет преобладать над любым другим типом правил, с которым пересекается.</p>
<center><img src="/images/chapter6/drmsignalinner.png" ></center>
<center>Рис. 54</center>
<center><strong>Примеры правил проектирования</strong></center>
<p>Рассмотрим некоторые примеры, связанные с типами правил. Пусть была создана принципиальная схема, список соединений и теперь необходимо создать набор правил, чтобы определить ограничения, накладываемые при проектировании печатной платы. Чтобы создать правило, управляющее зазорами на верхнем медном слое, необходимо:</p>
<ol>
<li>Вызвать команду Design Rule Manager из меню Tools.</li>
<li>Нажать на кнопку New вверху диалогового окна и ввести название для правила (например, LAYER_TOP).</li>
<li>Изменить слой в разделе Apply to Layer на Top Copper.</li>
<li>Изменить зазоры как необходимо и нажать кнопку OK, чтобы сохранить изменения и выйти из диалогового окна.</li>
</ol>
<p>Чтобы создать правило, управляющее зазорами для класса цепей SIGNAL:</p>
<ol>
<li>Вызвать команду Design Rule Manager из меню Tools.</li>
<li>Нажать на кнопку New вверху диалогового окна и ввести название для правила (например, SIGNAL_ALL).</li>
<li>Изменить класс цепи в разделе Apply to Net Class на SIGNAL.</li>
<li>Изменить зазоры как необходимо и нажать кнопку OK, чтобы сохранить изменения и выйти из диалогового окна.</li>
</ol>
<p>Чтобы создать правило, управляющее зазорами для класса цепей SIGNAL относительно его самого на верхнем медном слое:</p>
<ol>
<li>Вызвать команду Design Rule Manager из меню Tools.</li>
<li>Нажать на кнопку New вверху диалогового окна и ввести название для правила (например, SIGNALSIGNAL_TOP).</li>
<li>Изменить слой в разделе Apply to Layer на Top Copper.</li>
<li>Изменить класс цепи в разделе Apply to Net Class на SIGNAL.</li>
<li>Выбрать The Same Net Class в разделе With Respect To диалогового окна.</li>
<li>Изменить зазоры как необходимо и нажать кнопку OK, чтобы сохранить изменения и выйти из диалогового окна.</li>
</ol>
<p>Таким образом, было создано три дополнительных правила, кроме одного правила по умолчанию (правило DEFAULT), которое существует для всех проектов. Все четыре правила пересекаются на верхнем медном слое, поэтому продолжим рассмотрение поведения системы правил проектирования для этой печатной платы.</p>
<p>Контактные площадки и дорожки класса цепи SIGNAL, которые находятся на верхнем медном слое (Top Copper) и имеют метку, сигнализирующую об ошибке правил проектирования, должны иметь зазоры относительно других контактных площадок и дорожек класса цепи SIGNAL меньше, чем те которые определены в правиле SIGNALSIGNAL_TOP.</p>
<p>Контактные площадки и дорожки класса цепи SIGNAL, которые находятся на любом другом слое отличном от верхнего медного и имеют метку, сигнализирующую об ошибке правил проектирования, должны иметь зазоры к любому другому объекту меньше, чем те, которые указаны в правиле SIGNAL_ALL. На верхнем медном слое нарушение правила SIGNAL_ALL будет возникать, если контактная площадка или дорожка класса цепей SIGNAL будет ближе к контактной площадке или дорожке другого класса цепей, чем зазоры, указанные в правиле SIGNAL_ALL.</p>
<p>Объекты на верхнем медном слое, которые не связаны с классом цепей SIGNAL, будут иметь метку, сигнализирующую об ошибке правил проектирования, если их зазор меньше, чем определено в правиле LAYER_TOP.</p>
<p>Объекты на любом другом слое отличном от верхнего медного, которые не связаны с классом цепей SIGNAL, будут иметь метку, сигнализирующую об ошибке правил проектирования, если их зазор относительно любого другого объекта не связанного с классом цепей SIGNAL меньше, чем определено в правиле по умолчанию DEFAULT.</p>
<p>При просмотре ошибок правил проектирования, отображается правило, которое вызвало ошибку и слой, на котором возникла эта ошибка (Рис. 55).</p>
<center><img src="/images/chapter6/rules.png" ></center>
<center>Рис. 55</center>
<p>В общем случае при создании правил проектирования для печатной платы, необходимо перемещаться по иерархии правил проектирования снизу вверх, создавая дополнительные уточняющие правила проектирования, после того как созданы любые менее строгие – общие.</p>
<p>Во второй вкладке Net Classes определяются настройки классов цепей (Рис. 57). При проектировании печатной платы пользователю бывает необходимо использовать различную толщину дорожек для различных типов соединений. Также, скорее всего, необходимо задавать различные зазоры и разводить различные участки принципиальной схемы на разных слоях. Всем этим можно управлять, назначая группе соединений с одинаковыми электрическими характеристиками, класс цепи. Это осуществляется на принципиальной схеме, размещая метку на любом проводнике цепи вида «CLASS=&lt;название класса&gt;», чтобы обозначить, что цепь принадлежит к названному классу цепи (Рис. 56).</p>
<center><img src="/images/chapter6/classmains.png" ></center>
<center>Рис. 56</center>
<p>ARES считывает все названные классы цепей из принципиальной схемы и отображает их на вкладке Net Classes команды Design Rule Manager (Рис. 57).</p>
<center><img src="/images/chapter6/drmmains.png" ></center>
<center>Рис. 57</center>
<p>Если класс цепи не появился в выпадающем списке, следовательно, он был не назван/не правильно определен на принципиальной схеме.</p>
<p>Как только пользователь выбрал класс цепи в выпадающем списке, можно настроить параметры, указанные в таблице 2.</p>
<p style="text-align:right;">Таблица 2</p>
<table>
<tbody>
<tr><th>Параметр</th><th>Описание</th></tr>
<tr><td>Routing Styles (Стили разводки дорожек)</td><td>Эти параметры позволяют определить стиль дорожек Trace Style, стиль сужения дорожек Neck Style (для сужений при разводке между контактными площадками для поверхностного монтажа) и стиль переходных отверстий Via Style, которые используются при разводке выбранного класса цепи.</td></tr>
</tbody>
</table>
</div>

