# 3D просмотрщик

<div style="text-align:justify;">
	<p>3D просмотрщик (средство 3D визуализации) в ARES позволяет сформировать трехмерный вид и рассмотреть плату в таком виде, как она будет выглядеть в реальности.</p>
	<p>Основными свойствами 3D просмотрщика являются:</p>
	<ul>
		<li>Реалистичное представление печатной платы в трехмерном пространстве;</li>
		<li>Трехмерные корпуса для большинства библиотек ARES;</li>
		<li>Стандартный набор кнопок для просмотра печатной платы сверху, снизу, сбоку и т. д.;</li>
		<li>Интуитивная навигация позволяющая перемещаться по плате и увеличить интересующие пользователя области;</li>
		<li>Поэтапная визуализация позволяет осуществлять навигацию по плате и компонентам, пока рассчитывается сложная шелкография, разводка дорожек и т. д.;</li>
		<li>Кэшироние в оперативной памяти, позволяющее избегать повторного вычисления печатной платы, если разводка не изменялась;</li>
		<li>Цветовая маркировка на корпусах резисторов в соответствии с номиналами компонентов;</li>
		<li>Простой скриптовый режим с предпросмотром в реальном времени, позволяющий просто создавать свои собственные 3D корпуса;</li>
		<li>Команда «<strong>Update Visual Models</strong>» (Обновить визуальные модели) автоматизирует процесс замены корпусов трехмерными моделями для существующей разводки;</li>
		<li>Импорт моделей через стандартный формат *.3ds, что позволяет создавать подробные корпуса для компонентов в стандартных программах 3D моделирования.</li>
	</ul>
	<p>3D просмотрщик запускается с помощью команды <strong>3D Visualization</strong> из меню <strong>Output</strong> в ARES. Например, если загрузить печатную плату DBELLR.LYT из каталога &lt;каталог с Proteus VSM&gt;\Samples\Schematic&amp;PCB Design\ и выбрать команду <strong>3D Visualization</strong> из меню <strong>Output</strong>, то должно открыться следующее окно (Рис. 98).</p>
	<center><img src="/images/3dviewer/visual.png" alt=""></center>
	<center>Рис. 98</center>
	<p>Существует естественное ограничение в навигации в трех измерениях, учитывая, что мышь может двигаться только в двух направлениях.</p>
	<p>Главное меню программы расположено в верхней части 3D просмотрщика.</p>
	<center><strong>Меню File 3D просмотрщика</strong></center>	
	<p><strong>Load Layout (Cntl+O)</strong> – открывает другой файл печатной платы программы ARES и загружает его в 3D просмотрщик.</p>
	<p><strong>Save Layout (Cntl+S)</strong> – позволяет сохранить текущую разводку печатной платы в выбранный каталог на диске в любой момент времени. Печатная плата сохраняется в тот же файл, из которого она была загружена.</p>
	<p><strong>Save Layout As…</strong> – позволяет сохранить текущую разводку печатной платы в файл в выбранном каталоге с другим именем.</p>
	<p><strong>Export 3DS…</strong> – создает файл с разрешением *.3ds, содержащий трехмерную модель печатной платы, и сохраняет его с указанным именем в выбранный каталог на диске. 3DS – один из форматов файла, используемый программой Autodesk 3ds Max для трехмерного моделирования, анимации и визуализации. Файлы формата 3DS занимают много места на диске, поэтому для сложных плат, может требоваться много времени для завершения операции экспортирования.</p>
	<p><strong>Export DXF…</strong> – создает файл с разрешением *.dxf, содержащий трехмерную модель печатной платы, и сохраняет его с указанным именем в выбранный каталог на диске. DXF – открытый формат файлов для обмена графической информацией между приложениями САПР. Был создан фирмой Autodesk для системы AutoCAD.</p>
	<p><strong>Export STL…</strong> – создает файл с разрешением *.stl, содержащий трехмерную модель печатной платы, и сохраняет его с указанным именем в выбранный каталог на диске. STL – формат файла, широко используемый для хранения трехмерных моделей объектов для использования в технологиях быстрого прототипирования (быстрого создания опытных образцов), обычно, методом стереолитографии.</p>
	<p><strong>Print…</strong> – печать трехмерного вида платы. Команда запускает стандартное диалоговое окно Windows для выбора принтера. Отметим, что:</p>
	<ol>
		<li>печать трехмерного вида требует использования цветного принтера.</li>
		<li>принтер должен поддержать OpenGL.</li>		
	</ol>
	<p>Если любое из этих условий не выполняется, то возникнет ошибка при попытке напечатать вид. В таких случаях можно сделать снимок экрана (ALT+PRINTSCREEN) или использовать команду <strong>Export 3DS…</strong>, <strong>Export DXF…</strong>, <strong>Export STL…</strong> из данного меню.</p>
	<p><strong>Printer setup…</strong> – позволяет выбрать и настроить принтер для печати. Команда запускает стандартное диалоговое окно Windows для выбора и конфигурации принтера. Таким образом, настройки зависят от конкретной версии Windows и используемого принтера. Все настройки печати, включая печатающее устройство, запоминаются ARES и это печатающее устройство будет выбрано по умолчанию при последующих запусках ARES.</p>
	<p><strong>Update Visual Models</strong> – автоматически обновить трехмерные модели компонентов на плате. Смотри также раздел «Изменение посадочных мест».</p>
	<p><strong>Close (Esc)</strong> – выход из программы 3D просмотрщика.</p>
	<center><strong>Меню View 3D просмотрщика</strong></center>
	<p><strong>Regenerate (R)</strong> – обновляет трехмерное изображение из базы данных разводки печатной платы.</p>
	<p><strong>Navigate (F5)</strong> – позволяет перемещаться по печатной плате, используя текущий вид. Смотри также раздел «Перемещение по плате».</p>
	<p><strong>Zoom In (F6)</strong> – увеличение масштаба платы. Смотри также раздел «Увеличение и уменьшение масштаба».</p>
	<p><strong>Zoom Out (F7)</strong> – уменьшение масштаба платы. Смотри также раздел «Увеличение и уменьшение масштаба».</p>
	<p><strong>Top View (F8)</strong> – показывает вид печатной платы сверху. Смотри также раздел «Использование стандартных видов».</p>
	<p><strong>Front View (F9)</strong> – показывает вид печатной платы спереди. Смотри также раздел «Использование стандартных видов».</p>
	<p><strong>Back View (F10)</strong> – показывает вид печатной платы сзади. Смотри также раздел «Использование стандартных видов».</p>
	<p><strong>Left View (F11)</strong> – показывает вид печатной платы слева. Смотри также раздел «Использование стандартных видов».</p>
	<p><strong>Right View (F12)</strong> – показывает вид печатной платы справа. Смотри также раздел «Использование стандартных видов».</p>
	<p><strong>Height Bounds</strong> – изображает (иконка утоплена)/скрывает (иконка не утоплена) корпус, в котором будет находиться печатная плата. При выборе команды появляется полупрозрачный корпус вдоль платы, который позволяет определить, какие объекты выступают из корпуса.</p>
	<p>Повторный вызов команды отключает отображение корпуса. Чтобы определить размеры корпуса нужно вызвать команду <strong>Dimensions</strong> из меню <strong>Settings</strong> и определить требуемые размеры для верхнего зазора по высоте (<strong>Height Clearance (Top)</strong>) и нижнего зазора по высоте (<strong>Height Clearance (Bottom)</strong>). Размер корпуса по длине и ширине определяется её границами, которые указываются в слое <strong>Board Edge</strong>.</p>
	<p>	Чтобы изменить цвет корпуса нужно:</p>
	<ol>
		<li>Из 3D просмотрщика выбрать команду <strong>Colours</strong> из меню <strong>Settings</strong>.</li>
		<li>Нажать на поле напротив <strong>Height Plane</strong> и выбрать необходимый цвет.</li>
		<li>Нажать кнопку OK, чтобы выйти из диалогового окна.</li>
	</ol>
	<p><strong>Show Components</strong> – показывает (иконка утоплена)/скрывает (иконка не утоплена) компоненты, размещенные на печатной плате.</p>
	<p><strong>Auto Spin</strong> – осуществляет автоматическое вращение печатной платы вокруг текущего вида. Для выхода из режима вращения выберите один из стандартных видов или повторно вызовите команду <strong>Auto Spin</strong>.</p>
	<center><strong>Меню Settings 3D просмотрщика</strong></center>
	<p><strong>Dimensions…</strong> – открывает диалоговое окно <strong>Dimension Settings</strong> (Рис. 99), позволяющее настроить толщину стеклотекстолита, из которого создана плата (Board Thickness), толщину, на которую выступают шелкография и дорожки (<strong>Feature Thickness</strong>), размеры для верхнего зазора по высоте (<strong>Height Clearance (Top)</strong>) и нижнего зазора по высоте (<strong>Height Clearance (Bottom)</strong>). Толщина стеклотекстолита по умолчанию равна 1,25 мм, но она может быть настроена в диапазоне от 0,1 до 10 мм. Толщина, на которую выступают шелкография и дорожки, по умолчанию принята равной 50 мкм, но может меняться в диапазоне от 1 мкм до 1 мм. Размер для верхнего зазора по высоте может меняться в диапазоне от 1 мм до 500 мм, а размер для нижнего зазора по высоте может меняться в диапазоне от 1 мм до 100 мм.</p>
	<center><img src="/images/3dviewer/dimension.png" alt=""></center>
	<center>Рис. 99</center>
	<p><strong>Colour…</strong> – открывает диалоговое окно <strong>Colour Settings</strong>, позволяющее управлять основными цветами платы. Из диалогового окна <strong>Colour Settings</strong> можно настроить следующие цвета:</p>
	<p><strong>Board</strong> – цвет стеклотекстолита, из которого изготовлена печатная плата.</p>
	<p><strong>Copper</strong> – цвет медной фольги.</p>
	<p><strong>Silk Screen</strong> – цвет шелкографии.</p>
	<p><strong>Height Plane</strong> – цвет корпуса, ограничивающего плату по высоте.</p>
	<p><strong>Resist</strong> – цвет защитной паяльной маски. Слева от поля определяется в процентах прозрачность слоя защитной паяльной маски. Обычно значения по умолчанию достаточно.</p>
	<p><strong>Solder</strong> – цвет припоя.</p>
	<p><strong>Thought Holes</strong> – цвет сквозных отверстий в плате.</p>
	<p><strong>Blind Holes</strong> – цвет глухих отверстий в плате.</p>
	<p><strong>Background</strong> – цвет фона, окружающего печатную плату.</p>
	<p><strong>Paste</strong> – цвет паяльной маски.</p>
	<center><img src="/images/3dviewer/color.png" alt=""></center>
	<center>Рис. 100</center>
	<p><strong>Camera…</strong> – настройка камеры в 3D просмотрщике. Поле <strong>Viewing Angle</strong> определяет угол обзора камеры относительно платы в пределах от 30 до 60 градусов, хотя значение по умолчанию является оптимальным для большинства плат. Поле Brightness определяет яркость платы в диапазоне от 1 до 99. Значение по умолчанию является оптимальным для большинства плат.</p>
	<p><strong>Load Default Settings</strong> – загрузка настроек, используемых по умолчанию.</p>
	<p><strong>Load User Settings</strong> – загрузка пользовательских настроек.</p>
	<p><strong>Save User Settings</strong> – сохранение пользовательских настроек.</p>
	<center><strong>Меню Help в 3D просмотрщике</strong></center>
	<p><strong>Help Index</strong> – встроенное в 3D просмотрщик справочное руководство по основным принципам работы в 3D просмотрщике.</p>
	<p><strong>About ARES-3D</strong> – выдает краткую информацию о версии Proteus, на кого зарегистрирована программа, свободной памяти и версии операционной системы.</p>
	<center><strong>Нижняя (навигационная) панель инструментов в 3D просмотрщике</strong></center>
	<p>Навигационная панель инструментов расположена в нижней части экрана 3D просмотрщика и дублирует некоторые функции главного меню (Рис. 101).</p>
	<center><img src="/images/3dviewer/panel.png" alt=""></center>
	<center>Рис. 101</center>
	<p>Функции навигационной панели инструментов показаны в таблице 8.</p>
	<p style="text-align:right;">Таблица 8 - Функции навигационной панели инструментов</p>
	<div>
		<table>
			<tbody>
				<tr>
					<td><img src="/images/3dviewer/move.png" alt=""></td> <td>Позволяет перемещаться по печатной плате, используя текущий вид.</td>
				</tr>
				<tr>
					<td><img src="/images/3dviewer/zoomin.png" alt=""></td> <td>Увеличение масштаба платы.</td>
				</tr>				
				<tr>
					<td><img src="/images/3dviewer/zoomout.png" alt=""></td> <td>Уменьшение масштаба платы.</td>
				</tr>				
				<tr>
					<td><img src="/images/3dviewer/top.png" alt=""></td> <td>Показывает вид печатной платы сверху.
				</td>
				</tr>
				<tr>
					<td><img src="/images/3dviewer/front.png" alt=""></td>
					<td>Показывает вид печатной платы спереди.</td>
				</tr>				
				<tr>
					<td><img src="/images/3dviewer/left.png" alt=""></td>
					<td>Показывает вид печатной платы слева.</td>
				</tr>				
				<tr>
					<td><img src="/images/3dviewer/back.png" alt=""></td>
					<td>Показывает вид печатной платы сзади.</td>
				</tr>				
				<tr>
					<td><img src="/images/3dviewer/right.png" alt=""></td>
					<td>Показывает вид печатной платы справа.</td>
				</tr>
				<tr>
					<td><img src="/images/3dviewer/pack.png" alt=""></td>
					<td>Изображает (иконка утоплена)/скрывает (иконка не утоплена) прозрачный корпус, в котором будет находиться печатная плата.</td>
				</tr>
				<tr>
					<td><img src="/images/3dviewer/comp.png" alt=""></td>
					<td>Показывает (иконка утоплена)/скрывает (иконка не утоплена) компоненты, размещенные на печатной плате.</td>
				</tr>
			</tbody>
		</table>
	</div>
	<center><strong>Использование стандартных видов</strong></center>
	<p>Поддерживаются пять различных стандартных видов печатной платы:</p>
	<ul>
		<li><strong>Top View</strong> (Вид сверху);</li>
		<li><strong>Front View</strong> (Вид спереди);</li>
		<li><strong>Back View</strong> (Вид сзади);</li>
		<li><strong>Left View</strong> (Вид слева);</li>
		<li><strong>Right View</strong> (Вид справа).</li>
	</ul>
	<p>Эти виды доступны с помощью следующих средств:</p>
	<ol>
		<li>Из меню View 3D просмотрщика через команды <strong>Top View</strong>, <strong>Front View</strong>, <strong>Back View</strong>, <strong>Left View</strong>, <strong>Right View</strong>;</li>
		<li>Из навигационной панели инструментов внизу 3D просмотрщика;</li>
		<li>С помощью «горячих» клавиш F8–F12 в 3D просмотрщике.</li>
	</ol>
	<p>Наконец, можно заставить печатную плату вращаться автоматически через команду <strong>Auto Spin</strong> из меню <strong>View</strong> в 3D просмотрщике.</p>
	<p>Клавиши со стрелками на клавиатуре можно использовать для перемещения платы вверх, вниз, влево и вправо соответственно.</p>
	<center><strong>Увеличение и уменьшение масштаба</strong></center>
	<p>Эта функция доступна путем вращения среднего колесика мышки вперед и назад для увеличения и уменьшения масштаба соответственно.</p>
	<p>Если у мышки отсутствует среднее колесико, то пользователь можете изменять масштаб одним из следующих образом:</p>
	<ul>
		<li>через команды в меню <strong>View</strong>.</li>
		<li>используя иконки на навигационной панели инструментов.</li>
		<li>используя «горячие» клавиши F6 (увеличение масштаба) и F7 (уменьшение масштаба).</li>
	</ul>
	<p>Увеличение масштаба соответствует приближению камеры к плате, а уменьшение масштаба – отдалению камеры. Заметьте, что при этом камера не движется вдоль платы, а только приближается или отдаляется от центра изображения.</p>
	<p>Пользователь может изменить угол обзора камеры относительно платы (в диапазоне от 30 до 60 градусов) через команду <strong>Camera</strong> в меню <strong>Settings</strong> 3D просмотрщика. В большинстве случаев, однако, значение по умолчанию является близким к оптимальному.</p>
	<center><strong>Перемещение по плате</strong></center>
	<p>Главным преимуществом 3D просмотрщика является то, что он позволяет исследовать интересующие разработчика области платы, а именно, перемещаться, используя текущий вид, по плате.</p>
	<p>Для перемещения по плате, используя текущий вид:</p>
	<ul>
		<li>поместите курсор мыши в центре платы;</li>
		<li>нажмите левую кнопку мыши – курсор мыши примет вид прицела.</li>
		<li>переместите мышь вдоль платы, вращая среднее колесико для увеличения или уменьшения интересующих областей.</li>
		<li>нажмите правую кнопку мыши, чтобы выйти из режима навигации.</li>
	</ul>
	<p>Помните, что можно быстро возвратиться к стандартному виду через «горячие» клавиши или используя методы, описанные в разделе «Использование стандартных видов».</p>
	<p>Важно понимать, что перемещение происходит вдоль текущего вида, т. е., сам вид не изменяется.</p>
	<center><strong>Дополнительная навигация</strong></center>
	<p>До этого навигация осуществлялась, используя предопределенные стандартные виды. Однако может быть необходимо создать нестандартный вид платы, чтобы лучше рассмотреть определенную область. Это можно осуществить, вращая плату следующим образом:</p>
	<ol>
		<li>поместите курсор мыши в центр платы;</li>
		<li>зажмите левую кнопку мыши. Перемещайте курсор вверх и вниз, чтобы настроить углы обзора;</li>
		<li>отпустите левую кнопку мыши, после того как будет достигнут требуемый вид;</li>
		<li>нажмите правую кнопку мыши для выхода из режима вращения платы.</li>
	</ol>
	<center><strong>Изменение посадочных мест</strong></center>
	<p>Часто необходимо изменить внешний вид посадочных мест, используемых в 3D просмотрщике. Большое количество разнообразных трехмерных моделей поставляются вместе с библиотеками ARES, поэтому различные виды посадочных мест нужно только для тех элементов, которые создавались самим разработчиком. ARES позволяет легко создать свои собственные трехмерные модели как внутри ARES и импортировать их, если посадочные места уже были созданы во внешней программе трехмерной графики. Наконец, может использоваться базовый алгоритм трехмерной визуализации шелкографии, когда информация о трехмерном посадочном месте не предоставляется или не доступна.</p>
	<p>При вызове команды <strong>3D Visualization</strong> из меню <strong>Output</strong> для разводки печатной платы, которая была создана в старой версии программного обеспечения или содержит посадочные места, которые создавались пользователем, иногда бывает, что некоторые трехмерные посадочные места окрашены в красный цвет. Это говорит о том, что трехмерная модель для данного посадочного места не была найдена и используется трехмерная визуализация шелкографии.</p>
	<p>Если печатная плата была создана в более старой версии (ниже 7.*) программного обеспечения, пользователь может автоматически обновить трехмерную модель платы через команду <strong>Update Visual Models</strong> меню <strong>File</strong> в 3D просмотрщике. При этом происходит следующее:</p>
	<ul>
		<li>применяются трехмерные данные из библиотек к посадочным местам из разводки печатной платы в ARES.</li>
		<li>разводка печатной платы импортируется обратно в 3D просмотрщик.</li>
		<li>обновляется изображение в 3D просмотрщике, чтобы отобразить новые модели посадочных мест.</li>
	</ul>
	<p>Это касается только тех элементов, для которых существуют трехмерные модели в библиотеках (всех поставляемых вместе с ARES и любых созданных пользователем). Элементы, не имеющие информации о трехмерном корпусе, будут все равно отображаться красным цветом и для них необходимо создавать трехмерную модель, как показано ниже.</p>
	<center><strong>Создание трехмерных моделей внутри ARES</strong></center>
	<p>Трехмерная информация сохраняется внутри корпуса, поэтому при создании трехмерных моделей пользовательских посадочных мест используется ARES, а не 3D просмотрщик. ARES имеет встроенное трехмерное окно предварительного просмотра, которое позволяет увидеть модель и в реальном времени просмотреть изменения, которые происходят с моделью при её редактировании. Чтобы начать работать с трехмерной моделью разместите в необходимом месте корпус на печатной плате, а затем нажмите на нем правую кнопку мыши и выберите команду <strong>3D Visualisation</strong> из выпадающего контекстного меню. Откроется диалоговое окно, состоящее из тестового поля (для ввода команд) и окна предварительного просмотра в правой части, отображающего текущий трехмерный вид корпуса.</p>
	<p>Вверху окна предварительного просмотра расположены пять переключателей, которые позволяют рассмотреть трехмерную модель с определенного вида, что удобно при редактировании модели. Также заметьте, что шелкография показана вместе со сквозными отверстиями, что позволяет точно определить зазор по высоте и размеры выводов.</p>
	<p>Теперь необходимо ввести параметры, соответствующие типу корпуса, чтобы трехмерная модель точнее соответствовала реальному компоненту. При этом тип модели будет полностью зависеть от характеристик физического корпуса.</p>
	<center><strong>Тип объекта EXTRUDED (формируемый выдавливанием) (используется по умолчанию)</strong></center>
	<p>Этот метод используется по умолчанию, когда не определено свойство TYPE, для формирования замкнутого многоугольника из графики на определенном слое и затем выдавливает этот многоугольник по оси Z. Если не существует замкнутых многоугольников для выдавливания, то обработка происходит таким же образом как для TYPE=NONE (рассматривается ниже), хотя производится дополнительная обработка для определения это.</p>
	<p>Свойство LAYER может использоваться, чтобы изменить слой платы, который используется для формирования замкнутого многоугольника. Можно использовать следующие слои: SILK, MECH1, MECH2, MECH3, MECH4, KEEPOUT, OCCUPANCY.</p>
	<p>Слоем по умолчанию для свойства LAYER является слой шелкографии SILK.</p>
	<p>Также доступны следующие стандартные свойства:</p>
	<p>COLOUR – цвет объекта, указанный в виде значений R, G, B.</p>
	<p>MINHEIGHT – определяет высоту от нижнего края объекта до верхнего края платы.</p>
	<p>MAXHEIGHT – определяет высоту от верхнего края объекта до верхнего края платы.</p>
	<p>X – определяет расстояние по оси X от начала координат объекта до начала координат графики платы.</p>
	<p>Y – определяет расстояние по оси Y от начала координат объекта до начала координат графики платы.</p>
	<p>ANGLE – угол объекта относительно платы (например, ANGLE=45)</p>
	<p>Присваивание свойств в скриптовом блоке осуществляется стандартным образом:</p>
	<p>&lt;property&gt;=&lt;value&gt; (&lt;свойство&gt;=&lt;значение&gt;)</p>
	<p>за исключением свойства COLOUR, для которого присваивание осуществляется как:</p>
	<p>COLOUR=(r,g,b)</p>
	<center><strong>Тип объекта NONE (без корпуса)</strong></center>
	<p>Присваивание корпусу этого типа объекта удаляет объект и выводы, оставляя просто отверстия в плате.</p>
	<p>TYPE=NONE</p>
	<p>Например, если нужно изобразить перемычку, то можно добавить параметр PINTYPE=STRAIGHT для перерисовки выводов. Также смотри подраздел «Типы выводов».</p>
	<center><strong>Тип объекта CUBOID (параллелепипед)</strong></center>
	<p>Ниже приведены свойства для типа объекта CUBOID:</p>
	<p>TYPE – выбирает тип объекта (CUBOID в этом случае).</p>
	<p>COLOUR – цвет объекта, указанный в виде значений R, G, B.</p>
	<p>MINHEIGHT – определяет высоту от нижнего края объекта до верхнего края платы.</p>
	<p>MAXHEIGHT – определяет высоту от верхнего края объекта до верхнего края платы.</p>
	<p>X – определяет расстояние по оси X от начала координат объекта до начала координат графики платы.</p>
	<p>Y – определяет расстояние по оси Y от начала координат объекта до начала координат графики платы.</p>
	<p>SX – определяет ширину параллелепипеда.</p>
	<p>SY – определяет длину параллелепипеда.</p>
	<p>ANGLE – угол объекта относительно платы (например, ANGLE=45)</p>
	<p>Примерами объектов этого типа являются модели резисторов для поверхностного монтажа 0402, 0603 и т. д.. Если вы выберите один из этих элементов и вызовите команду 3D Visualisation из контекстного меню, вы увидите следующие свойства:</p>
	<p></p>
	<p>TYPE=CUBOID</p>
	<p>COLOUR=(30,30,30)</p>
	<p>CENTRE=PINS</p>
	<p>SX=72th</p>
	<p>SY=31th</p>
	<p>MAXHEIGHT=14th</p>
	<p>MINHEIGHT=1th</p>
	<p>Эти команды создают трехмерный параллелепипед в окне предварительного просмотра. Редактирование значений приведет к изменениям в реальном времени в окне предварительного просмотра, что позволяет быстро настроить необходимые параметры.</p>
	<center><strong>Тип объекта AXIALCYLIDER (осевой цилиндр)</strong></center>
	<p>Ниже приведены свойства для типа объекта AXIALCYLIDER:</p>
	<p>TYPE – выбирает тип объекта (AXIALCYLIDER в этом случае).</p>
	<p>COLOUR – цвет объекта, указанный в виде значений R, G, B.</p>
	<p>MAXHEIGHT – определяет высоту от верхнего края объекта до верхнего края платы.</p>
	<p>X – определяет расстояние по оси X от начала координат объекта до начала координат графики платы.</p>
	<p>Y – определяет расстояние по оси Y от начала координат объекта до начала координат графики платы.</p>
	<p>LENGTH – устанавливает длину цилиндра.</p>
	<p>ANGLE – угол объекта относительно платы (например, ANGLE=45).</p>
	<p>RADIUS – определяет радиус цилиндра вокруг оси симметрии.</p>
	<p>BAND – определяет положение и цвет полосок, наносимых на цилиндр.</p>
	<p>Последние два параметра рассмотрим подробнее, поскольку они позволяют изменять характеристики объекта и осуществлять автоматическую цветовую маркировку, например, резисторов.</p>
	<p><u>Свойство RADIUS</u></p>
	<p>Свойство RADIUS имеет следующий вид:</p>
	<p>RADIUS=P1,P2,P3,P4,</p>
	<p>где </p>
	<p>P1 – определяет радиус цилиндра по вертикали.</p>
	<p>P2 – определяет радиус цилиндра по горизонтали.</p>
	<p>P3 – определяет глубину фаски по направлению к оси цилиндра.</p>
	<p>P4 – определяет глубину фаски по направлению вдоль оси цилиндра.</p>
	<p>Другими словами, первые два параметра позволяют создавать эллипсоидальные объекты, а вторые два параметра позволяют создавать объекты в форме торпед.</p>
	<p>Заметьте, что не обязательно указывать все четыре параметра, если объект имеет более простую форму. Значение по умолчанию для первого параметра – это небольшое номинальное значение такое, чтобы цилиндр был видим в окне предварительного просмотра. Значение по умолчанию для второго параметра равно значению первого параметра. Значение по умолчанию для третьего параметра равно нулю. Значение по умолчанию для четвертого параметра такое же, как значение для третьего параметра.</p>
	<p><u>Свойство BAND</u></p>
	<p>Свойство BAND имеет вид:</p>
	<p>BANDx=P1,P2,(r,g,b),</p>
	<p>где x может быть числом от 1 до 9 (допускается изображать до 9 полосок) и:</p>
	<p>P1 – начальная точка полосы вдоль оси цилиндра (в процентном соотношении относительно размеров цилиндра).</p>
	<p>P2 – конечная точка полосы вдоль оси цилиндра (в процентном соотношении относительно размеров цилиндра).</p>
	<p>RGB – Цвет полосы. Если не указывается, то цвет по умолчанию будет вычисляться на основе текущего номинала, что позволяет осуществлять автоматическую цветную маркировку резисторов и т. д.</p>
	<p>Большинство резисторов в библиотеках воздаются таким образом. Например, если выбрать RES40 из библиотек и вызвать команду <strong>3D Visualisation</strong> из контекстного меню, то вы должны увидеть следующие свойства:</p>
	<p>TYPE=AXIALCYLINDER</p>
	<p>MAXHEIGHT=2</p>
	<p>LENGTH=0.2in</p>
	<p>RADIUS=0.027in,0.027in,0.2mm,0.2mm</p>
	<p>X=0.2in</p>
	<p>Y=0.0in</p>
	<p>COLOUR=(128,64,64)</p>
	<p>BAND1=20, 25</p>
	<p>BAND2=30, 35</p>
	<p>BAND3=40, 45</p>
	<p>BAND4=50, 55</p>
	<p>BAND5=80, 85, (128,128,0)</p>
	<p>Заметьте, что цветовые параметры не указаны для полос BAND1…BAND4, поскольку требуется, чтобы 3D просмотрщик сам вычислял цветовые коды в зависимости от номинала резистора. Единственное что указывается – это то, что BAND1 начинается в точке отстоящей на расстоянии 20% от длины цилиндра и заканчивается на расстоянии 25%, BAND2 начинается на расстоянии 30% от длины и заканчивается на расстоянии 35% и т. д.</p>
	<p>Вычисление цвета полос происходит при вызове команды <strong>3D Visualization</strong> из меню <strong>Output</strong>.</p>
	<center><strong>Типы выводов</strong></center>
	<p>Настроив тип объекта иногда также необходимо изменить тип вывода для трехмерной модели.</p>
	<p>Существует семь доступных стилей выводов: 1) NONE, 2) STRAIGHT, 3) BENTWIRE, 4) SMTZ, 5) SMTJ, 6) SMTB, 7) CUBOID (Рис. 102).</p>
	<div>
		<table>
			<tbody>
				<tr>
					<td><img src="/images/3dviewer/str.png" alt="">STRAIGHT</td>
					<td><img src="/images/3dviewer/ben.png" alt="">BENTWIRE</td>
				</tr>				
				<tr>
					<td><img src="/images/3dviewer/smtz.png" alt="">SMTZ</td>
					<td><img src="/images/3dviewer/smtj.png" alt="">SMTJ</td>
				</tr>				
				<tr>
					<td><img src="/images/3dviewer/smtb.png" alt="">SMTB</td>
					<td><img src="/images/3dviewer/cuboid.png" alt="">CUBOID</td>
				</tr>
			</tbody>
		</table>
	</div>
	<center>Рис. 102</center>
	<p>Тип вывода, используемый по умолчанию в каждом случае, зависит от стиля контактной площадки в ARES, а также от того находится ли контактная площадка под трехмерным объектом.</p>
	<p>	Для сквозных контактных площадок, стилем выводов по умолчанию является BENTWIRE, за исключением тех случаев, когда вывод находится под корпусом или не существует корпуса вообще, к которому они относятся. В этих случаях значение по умолчанию становится равным STRAIGHT. Контактные площадки для поверхностного монтажа имеют стиль выводов SMTZ, за исключением тех случаев, когда вывод находится под корпусом или не существует корпуса вообще, к которому они относятся. В этих случаях значение по умолчанию становится равным SMTJ.</p>
	<p>Обычно значений по умолчанию достаточно, но разработчик всегда может присвоить конкретный стиль вывода с помощью команды PINTYPE=xxxxxx. Дополнительные свойства, которые могут быть присвоены выводам, описаны ниже:</p>
	<p>PINCOLOUR – цвет вывода, указанный в виде значений R, G, B.</p>
	<p>PINMAX – определяет наибольшую высоту вывода от поверхности платы и используется для всех типов выводов.</p>
	<p>PINMIN – определяет наименьшую высоту вывода от поверхности платы и используется для всех типов выводов. Для сквозных выводов это будет, скорее всего, отрицательное значение, для выводов для поверхностного монтажа – значение близкое к нулю.</p>
	<p>PINDIAMETER – для выводов STRAIGHT и BENTWIRE, это свойство определяет диаметр вывода. Для SMTB выводов – диаметр полусферы.</p>
	<p>PINLENGTH – для SMTJ и SMTZ выводов определяет длину вывода.</p>
	<p>PINTHICKNESS – для SMTJ и SMTZ выводов определяет толщину вывода.</p>
	<p>PINWIDTH – для SMTJ и SMTZ выводов определяет ширину вывода.</p>
	<p>PINMOVE – передвигает вывод ближе или дальше к границе корпуса на указанное значение.</p>
	<center><strong>Импорт 3D моделей из другой программы</strong></center>
	<p>Модели могут быть импортированы в 3D просмотрщик с помощью следующей простой процедуры:</p>
	<ol>
		<li>экспортируйте модель из используемой программы в виде одного объекта в формате файла 3DS.</li>
		<li>поместите файл 3DS в каталог с библиотеками Proteus VSM.</li>
		<li>Поместите корпус в ARES и выберите команду <strong>3D Visualisation</strong> из выпадающего контекстного меню.</li>
		<li>Добавьте следующие свойства:</li>
	</ol>
	<p>TYPE=MODEL</p>
	<p>FILE=&lt;filename&gt;.3ds</p>
	<p>NAME=&lt;objectname&gt;</p>
	<p>SCALE=&lt;scale&gt;&lt;units&gt;</p>
	<p>Учтите, что расширение файла (*.3ds) должно быть добавлено к имени файла.</p>
	<p>3D просмотрщик должен знать какие единицы измерения использовались при создании модели. Их можно указать в виде 1mm, 1in, 1cm и т. д в поле SCALE.</p>
	<p>Наконец, может быть потребуется сместить модель по осям X, Y или поверхнуть на определенный угол для её правильного расположения. Это можно сделать, настроив положение с помощью следующих свойств:</p>
	<p>X= &lt;смещение по оси x&gt;&lt;единицы измерения&gt;</p>
	<p>Y= &lt;смещение по оси y&gt;&lt; единицы измерения&gt;</p>
	<p>ANGLE =&lt;угол в градусах&gt;</p>
	<p>Например, модель корпуса DIP40, которая была создана в программе трехмерного моделирования, должна иметь следующий скрипт, введенный в диалоговом окне <strong>3D Visualisation</strong>:</p>
	<p>TYPE=MODEL</p>
	<p>NAME=DIP40_600</p>
	<p>FILE=DIP600.3DS</p>
	<p>SCALE=1in</p>
	<center><strong>Советы по созданию моделей в другой программе</strong></center>
	<p>Любая хорошая трехмерная модель должна иметь достаточную степень детализации, так чтобы она была похожа на реальный объект и в то же время она должна состоять из небольшого числа многоугольников, чтобы процесс её отображения и обновления осуществлялся достаточно быстро.</p>
	<p>Учитывая эти требования, можно дать следующие советы по созданию хороших трехмерных моделей корпусов:</p>
	<ol>
		<li>создавайте достаточно подробную модель реального корпуса так, чтобы пользователь смог определить примерно тип компонента.</li>
		<li>используйте как можно меньше многоугольников при создании модели. Отобразить одну модель с большим количеством многоугольников обычно не составляет проблем, однако, сложные схемы могут содержать 50 и более корпусов, что обязательно приведет к проблемам при отображении.</li>
		<li>процедура импортирования подразумевает, что модель состоит из одного объекта в файле *.3DS, поэтому, скорее всего, необходимо будет объединить несколько объектов в один.</li>
	</ol>
	<p>Скорость, с которой прорисовывается трехмерная сцена, зависит от множества факторов: числа и сложности компонентов; сложности дорожек, контактных площадок, отверстий и шелкографии платы; доступной оперативной памяти; используемой видеокарты; ограничений видеодрайверов.</p>
	<p>Число и сложность компонентов влияют на общее число текстур в сцене, чем их больше, тем больше требуется времени для их трехмерного изображения.</p>
	<p>Сложность дорожек, контактных площадок, отверстий и шелкографии платы влияет не только на число текстур, которые отображаются в окончательной сцене, но также на алгоритмы предварительной обработки, требуемые для уменьшения количества текстур и улучшения качества изображения. Объекты, которые могут уменьшить скорость прорисовки, – это заштрихованные области металлизации и криволинейные дорожки.</p>
	<p>Обработка и хранение трехмерных сцен потребляет много памяти; в некоторых случаях это потребление может быть таким большим, что используется файл подкачки, что значительно уменьшает скорость обработки.</p>
	<p>Видеокарты обычно представляют собой компромисс между стоимостью и скоростью, с которой они могут обрабатывать трехмерные сцены. Кроме того видеокарты могут иметь аппаратные ограничения, например, не позволять выводить изображение сразу на два монитора.</p>
	<p>Некоторые видеодрайвера поддерживают не все возможности видеокарты, а только определенные стандартные; это в частности, касается драйверов, предоставляемых операционной системой.</p>

</div>